async function PolyTrackPhysics(t={}){var r,e=t,n=(t,r)=>{throw r};r=self.location.href;var a,i,o="";try{o=new URL(".",r).href}catch{}i=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)},a=async t=>{var r=await fetch(t,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)};var s,u,f,c,l,h,p,y,d=console.log.bind(console),m=console.error.bind(console),w=!1,v=!1;function g(){var t=$.buffer;l=new Int8Array(t),new Int16Array(t),e.HEAPU8=h=new Uint8Array(t),new Uint16Array(t),new Int32Array(t),p=new Uint32Array(t),e.HEAPF32=new Float32Array(t),new Float64Array(t),new BigInt64Array(t),new BigUint64Array(t)}function _(t){e.onAbort?.(t),m(t="Aborted("+t+")"),w=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw c?.(r),r}function b(){return t="polytrack_physics.wasm",e.locateFile?e.locateFile(t,o):o+t;var t}async function A(t){if(!s)try{var r=await a(t);return new Uint8Array(r)}catch{}return function(t){if(t==y&&s)return new Uint8Array(s);if(i)return i(t);throw"both async and sync fetching of the wasm failed"}(t)}async function R(t,r,e){if(!t)try{var n=fetch(r,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,e)}catch(t){m(`wasm streaming compile failed: ${t}`),m("falling back to ArrayBuffer instantiation")}return async function(t,r){try{var e=await A(t);return await WebAssembly.instantiate(e,r)}catch(t){m(`failed to asynchronously prepare wasm: ${t}`),_(t)}}(r,e)}class P{name="ExitStatus";constructor(t){this.message=`Program terminated with exit(${t})`,this.status=t}}var k=t=>{for(;t.length>0;)t.shift()(e)},C=[],T=t=>C.push(t),x=[],S=t=>x.push(t),E=!0,I=globalThis.TextDecoder&&new TextDecoder,U=(t,r=0,e,n)=>{var a=((t,r,e,n)=>{var a=r+e;if(n)return a;for(;t[r]&&!(r>=a);)++r;return r})(t,r,e,n);if(a-r>16&&t.buffer&&I)return I.decode(t.subarray(r,a));for(var i="";r<a;){var o=t[r++];if(128&o){var s=63&t[r++];if(192!=(224&o)){var u=63&t[r++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&t[r++])<65536)i+=String.fromCharCode(o);else{var f=o-65536;i+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i},B=(t,r,e)=>t?U(h,t,r,e):"";class M{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){p[this.ptr+4>>2]=t}get_type(){return p[this.ptr+4>>2]}set_destructor(t){p[this.ptr+8>>2]=t}get_destructor(){return p[this.ptr+8>>2]}set_caught(t){t=t?1:0,l[this.ptr+12]=t}get_caught(){return 0!=l[this.ptr+12]}set_rethrown(t){t=t?1:0,l[this.ptr+13]=t}get_rethrown(){return 0!=l[this.ptr+13]}init(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)}set_adjusted_ptr(t){p[this.ptr+16>>2]=t}get_adjusted_ptr(){return p[this.ptr+16>>2]}}var j,F,W,D,$,H=0,L={},q=t=>{if(t instanceof P||"unwind"==t)return u;n(0,t)},z=()=>E||H>0,G=t=>{u=t,z()||(e.onExit?.(t),w=!0),n(0,new P(t))},N=(t,r)=>{u=t,G(t)},O=t=>{if(!w)try{t(),(()=>{if(!z())try{N(u)}catch(t){q(t)}})()}catch(t){q(t)}},X=t=>{var r=(t-$.buffer.byteLength+65535)/65536|0;try{return $.grow(r),g(),1}catch(t){}},J=[null,[],[]],K=t=>W(t),Q=t=>{var r=(t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++e):r+=3}return r})(t)+1,e=K(r);return((t,r,e)=>{((t,r,e,n)=>{if(!(n>0))return 0;for(var a=e,i=e+n-1,o=0;o<t.length;++o){var s=t.codePointAt(o);if(s<=127){if(e>=i)break;r[e++]=s}else if(s<=2047){if(e+1>=i)break;r[e++]=192|s>>6,r[e++]=128|63&s}else if(s<=65535){if(e+2>=i)break;r[e++]=224|s>>12,r[e++]=128|s>>6&63,r[e++]=128|63&s}else{if(e+3>=i)break;r[e++]=240|s>>18,r[e++]=128|s>>12&63,r[e++]=128|s>>6&63,r[e++]=128|63&s,o++}}r[e]=0})(t,h,r,e)})(t,e,r),e};if(e.noExitRuntime&&(E=e.noExitRuntime),e.print&&(d=e.print),e.printErr&&(m=e.printErr),e.wasmBinary&&(s=e.wasmBinary),e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.shift()();e.ccall=(t,r,n,a,i)=>{var o={string:t=>{var r=0;return null!=t&&0!==t&&(r=Q(t)),r},array:t=>{var r,e,n=K(t.length);return r=t,e=n,l.set(r,e),n}};var s=(t=>e["_"+t])(t),u=[],f=0;if(a)for(var c=0;c<a.length;c++){var h=o[n[c]];h?(0===f&&(f=D()),u[c]=h(a[c])):u[c]=a[c]}var p=s(...u);return p=function(t){return 0!==f&&F(f),function(t){return"string"===r?B(t):"boolean"===r?Boolean(t):t}(t)}(p)};var V,Y={i:(t,r,e,n)=>_(`Assertion failed: ${B(t)}, at: `+[r?B(r):"unknown filename",e,n?B(n):"unknown function"]),a:(t,r,e)=>{throw new M(t).init(r,e),t},e:()=>_(""),c:()=>{E=!1,H=0},d:(t,r)=>{if(L[t]&&(clearTimeout(L[t].id),delete L[t]),!r)return 0;var e=setTimeout((()=>{delete L[t],O((()=>j(t,performance.now())))}),r);return L[t]={id:e,timeout_ms:r},0},h:()=>Date.now(),f:t=>{var r,e,n=h.length,a=2147483648;if((t>>>=0)>a)return!1;for(var i=1;i<=4;i*=2){var o=n*(1+.2/i);o=Math.min(o,t+100663296);var s=Math.min(a,(r=Math.max(t,o),e=65536,Math.ceil(r/e)*e));if(X(s))return!0}return!1},g:(t,r,e,n)=>{for(var a,i,o,s=0,u=0;u<e;u++){var f=p[r>>2],c=p[r+4>>2];r+=8;for(var l=0;l<c;l++)a=t,i=h[f+l],o=void 0,o=J[a],0===i||10===i?((1===a?d:m)(U(o)),o.length=0):o.push(i);s+=c}return p[n>>2]=s,0},b:G};return V=await async function(){function t(t,r){return function(t){e._malloc=t.l,e._free=t.m,e._initializeCarCollisionShape=t.n,e._addTrackPartConfiguration=t.o,e._createCarModel=t.p,e._deleteCarModel=t.q,e._updateCarModel=t.r,e._testDeterminism=t.s,j=t.t,F=t.u,W=t.v,D=t.w,$=t.j,t.__indirect_function_table}(V=t.exports),g(),V}var r={a:Y};return e.instantiateWasm?new Promise(((n,a)=>{e.instantiateWasm(r,((r,e)=>{n(t(r))}))})):(y??=b(),function(r){return t(r.instance)}(await R(s,y,r)))}(),function(){function t(){e.calledRun=!0,w||(v=!0,V.k(),f?.(e),e.onRuntimeInitialized?.(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)T(e.postRun.shift());k(C)}())}!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)S(e.preRun.shift());k(x)}(),e.setStatus?(e.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>e.setStatus("")),1),t()}),1)):t()}(),v?e:new Promise(((t,r)=>{f=t,c=r}))}"object"==typeof exports&&"object"==typeof module?(module.exports=PolyTrackPhysics,module.exports.default=PolyTrackPhysics):"function"==typeof define&&define.amd&&define([],(()=>PolyTrackPhysics));