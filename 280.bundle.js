"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[280],{35:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".profile-selection-ui {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.profile-selection-ui > .background {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(20, 20, 30, 0.5);\n\tpointer-events: auto;\n}\n\n.profile-selection-ui > .container {\n\tposition: relative;\n\tz-index: 2;\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 500px;\n\tbox-sizing: border-box;\n\tbackground-color: var(--surface-secondary-color);\n}\n\n.profile-selection-ui > .container > .top-bar {\n\tmargin: 0;\n\tpadding: 10px;\n\tbackground-color: var(--surface-color);\n}\n\n.profile-selection-ui > .container > .top-bar > h2 {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-weight: normal;\n\tfont-size: 38px;\n\ttext-align: center;\n\tcolor: var(--text-color);\n}\n\n.profile-selection-ui > .container > .slot {\n\tposition: relative;\n\tmargin: 10px 10px 0 10px;\n\tpadding: 0;\n}\n\n.profile-selection-ui > .container > .slot > button.main {\n\tdisplay: flex;\n\tmargin: 0;\n\tpadding: 0;\n\tvertical-align: top;\n\twidth: 100%;\n\theight: 100px;\n\tclip-path: polygon(0 0, 100% 0, calc(100% - 8px) 100%, 0 100%);\n\ttext-align: left;\n\twhite-space: nowrap;\n}\n\n.profile-selection-ui > .container > .slot > button.main.selected {\n\tbackground-color: var(--button-hover-color);\n}\n\n.profile-selection-ui > .container > .slot > button.main > .image-container {\n\tdisplay: inline-block;\n\tposition: relative;\n\tbackground-color: rgba(0, 0, 0, 0.1);\n\twidth: 100px;\n\theight: 100px;\n}\n\n.profile-selection-ui > .container > .slot > button.main > .image-container > img {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n\topacity: 0;\n\ttransition: opacity 0.5s ease-out;\n}\n.profile-selection-ui > .container > .slot > button.main > .image-container > img.show {\n\topacity: 1;\n}\n\n.profile-selection-ui > .container > .slot > button.main > .name-container {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 28px;\n\tdisplay: flex;\n\twidth: 360px;\n}\n\n.profile-selection-ui > .container > .slot > button.main > .name-container > .name {\n\tmargin: 0;\n\tpadding: 12px;\n\tcolor: var(--text-color);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n.profile-selection-ui > .container > .slot > button.main > .name-container > .name.empty {\n\tcolor: #000;\n\topacity: 0.2;\n}\n.profile-selection-ui > .container > .slot > button.main:focus-visible > .name-container > .name > .name {\n\ttext-decoration: underline;\n}\n\n.profile-selection-ui > .container > .slot > button.main > .name-container > .country-flag {\n\tmargin: 12px 0 12px 12px;\n\t/* Flag aspect ratio is 4:3. */\n\twidth: 32px;\n\theight: 24px;\n\tfilter: drop-shadow(2px 2px 1px rgba(0, 0, 0, 0.5)); /* box-shadow cannot be used because of Nepal. */\n}\n\n\n.profile-selection-ui > .container > .bottom-bar {\n\tmargin: 10px 0 0 0;\n\tpadding: 10px;\n\tbackground-color: var(--surface-color);\n}\n\n.profile-selection-ui > .container > .bottom-bar > .button.right {\n\tfloat: right;\n}\n",""]);const l=a},2561:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,'.profile-settings-ui.hidden {\n\tdisplay: none;\n}\n\n.profile-settings-ui > .background {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(20, 20, 30, 0.5);\n\tpointer-events: auto;\n}\n\n.profile-settings-ui > .container {\n\tposition: absolute;\n\tleft: calc(50% - 700px / 2);\n\ttop: 0;\n\tz-index: 2;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\twidth: 700px;\n\theight: 100%;\n\tbackground-color: var(--surface-color);\n}\n\n.profile-settings-ui > .container > h1 {\n\tmargin: 10px;\n\tpadding: 0;\n\tfont-weight: normal;\n\tfont-size: 38px;\n\ttext-align: center;\n\tcolor: var(--text-color);\n}\n\n.profile-settings-ui > .container > .content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tbackground-color: var(--surface-secondary-color);\n\toverflow-y: auto;\n\tpointer-events: auto;\n}\n\n.profile-settings-ui > .container > .content > .double-box-container {\n\tmargin-top: auto;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: stretch;\n\tjustify-content: space-between;\n}\n.profile-settings-ui > .container > .content > .double-box-container > .box {\n\tmargin: 20px;\n}\n.profile-settings-ui > .container > .content > .double-box-container > .box:first-of-type {\n\tmargin-right: 10px;\n}\n.profile-settings-ui > .container > .content > .double-box-container > .box:last-of-type {\n\tmargin-left: 10px;\n}\n\n.profile-settings-ui > .container > .content .box {\n\tmargin: 20px 20px 0 20px;\n\tpadding: 20px;\n\tbackground-color: var(--surface-color);\n\toutline: 2px solid transparent;\n\ttransition: outline 0.25s ease-in-out;\n}\n.profile-settings-ui > .container > .content .box:last-of-type {\n\tmargin-bottom: 20px;\n}\n\n.profile-settings-ui > .container > .content .box > .title {\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 30px;\n\tcolor: var(--text-color);\n}\n.profile-settings-ui > .container > .content .box > input[type="text"] {\n\twidth: calc(100% - 20px);\n\tfont-weight: normal;\n\tfont-size: 38px;\n}\n.profile-settings-ui > .container > .content .box > .description {\n\tmargin: 10px 0 0 0;\n\tpadding: 0;\n\tfont-size: 16px;\n\tcolor: var(--text-color);\n}\n\n.profile-settings-ui > .container > .content .box > .country-button {\n\tdisplay: flex;\n\tpadding: 10px;\n\twidth: calc(100% - 2 * 10px);\n\theight: 100px;\n\tclip-path: polygon(0 0, 100% 0, calc(100% - 8px) 100%, 0 100%);\n\ttext-align: left;\n\twhite-space: nowrap;\n}\n\n.profile-settings-ui > .container > .content .box > .country-button > .name {\n\tmargin: 0 20px;\n\talign-self: center;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\tline-clamp: 2;\n\t-webkit-box-orient: vertical;\n\twhite-space: wrap;\n\tfont-size: 38px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.profile-settings-ui > .container > .content .box > .country-button > img {\n\tvertical-align: middle;\n\taspect-ratio: 4 / 3;\n\theight: 100%;\n\tfilter: drop-shadow(4px 4px 1px rgba(0, 0, 0, 0.25)); /* box-shadow cannot be used because of Nepal. */\n}\n\n.profile-settings-ui > .container > .content > .user-token-hash {\n\tmargin: 10px 20px;\n\tfont-size: 17px;\n\topacity: 0.5;\n\tcolor: var(--text-color);\n\tpointer-events: all;\n\t-webkit-user-select: all;\n\t-moz-user-select: all;\n\t-ms-user-select: all;\n\tuser-select: all;\n}\n\n.profile-settings-ui > .container > .button-wrapper > button {\n\tmargin: 10px;\n}\n\n.profile-settings-ui > .container > .button-wrapper > button:not(:first-child) {\n\tfloat: right;\n}\n',""]);const l=a},3257:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".user-export-ui > .background {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(20, 20, 30, 0.5);\n\tpointer-events: auto;\n}\n\n.user-export-ui > .container {\n\tposition: absolute;\n\tleft: calc(50% - 500px / 2);\n\ttop: 35%;\n\tz-index: 2;\n\tmargin: 0;\n\tpadding: 10px;\n\tbox-sizing: border-box;\n\twidth: 500px;\n\theight: 150px;\n\tbackground-color: var(--surface-color);\n}\n\n.user-export-ui > .container > textarea {\n\tmargin: 0;\n\tpadding: 10px;\n\tbox-sizing: border-box;\n\tmin-width: 100%;\n\tmax-width: 100%;\n\tmin-height: calc(100% - 52px - 10px);\n\tmax-height: calc(100% - 52px - 10px);\n\tpointer-events: auto;\n\tbackground-color: var(--surface-tertiary-color);\n\tborder: none;\n\tresize: none;\n\tcolor: var(--text-color);\n\tword-break: break-all;\n\tfont-size: 20px;\n}\n.user-export-ui > .container > textarea:focus-visible {\n\toutline: none;\n}\n\n.user-export-ui > .container > .bar {\n\tmargin: 8px 0 0 0;\n}\n\n.user-export-ui > .container > .bar > .button.right {\n\tfloat: right;\n}\n",""]);const l=a},3280:(t,n,e)=>{e.d(n,{default:()=>Ae});var i=e(1635),s=e(4922),o=e(1728),a=e(7888),l=e(4078),c=e(5072),r=e.n(c),h=e(7825),d=e.n(h),g=e(7659),f=e.n(g),p=e(5056),u=e.n(p),m=e(540),v=e.n(m),w=e(1113),b=e.n(w),x=e(8026),k={};k.styleTagTransform=b(),k.setAttributes=u(),k.insert=f().bind(null,"head"),k.domAPI=d(),k.insertStyleElement=v();r()(x.A,k);x.A&&x.A.locals&&x.A.locals;var G=e(7024),y=e(765),C=e(2825),E=e(2951),M=e(2561),N={};N.styleTagTransform=b(),N.setAttributes=u(),N.insert=f().bind(null,"head"),N.domAPI=d(),N.insertStyleElement=v();r()(M.A,N);M.A&&M.A.locals&&M.A.locals;var L=e(2970),A=e(5408),W=e(9e3),S={};S.styleTagTransform=b(),S.setAttributes=u(),S.insert=f().bind(null,"head"),S.domAPI=d(),S.insertStyleElement=v();r()(W.A,S);W.A&&W.A.locals&&W.A.locals;var T,z,P,I,U,H,O,D,R,B,F,q,V;z=new WeakMap,P=new WeakMap,I=new WeakMap,U=new WeakMap,H=new WeakMap,O=new WeakMap,D=new WeakMap,R=new WeakMap,B=new WeakMap,F=new WeakMap,T=new WeakSet,q=function(t){let n,e;null==t?(n="images/blank_flag.svg",e=(0,i.gn)(this,z,"f").get("None")):(n="images/countries/"+t.code+".svg",e=t.name);const s=document.createElement("button");s.className="button country-button",s.addEventListener("click",(()=>{(0,i.gn)(this,P,"f").playUIClick(),(0,i.gn)(this,I,"f").call(this,t?.code??null)})),(0,i.gn)(this,D,"f").appendChild(s);const o=document.createElement("img");o.className="loading",o.addEventListener("load",(()=>{o.classList.remove("loading")})),o.loading="lazy",o.src=n,s.appendChild(o);const a=document.createElement("div");a.className="name",a.textContent=e,s.appendChild(a);const l=[e.toLowerCase()];if(null!=t)switch(l.push(t.code),t.code){case"ae":l.push("uae");break;case"cd":l.push("dr congo","drc","congo-kinshasa");break;case"cz":l.push("czech republic");break;case"gb":l.push("uk","great britain");break;case"kp":l.push("north korea");break;case"kr":l.push("south korea");break;case"nl":l.push("holland");break;case"la":l.push("laos");break;case"tr":l.push("turkey","turkiye");break;case"us":l.push("usa");break;case"vn":l.push("vietnam")}return{searchNames:l,button:s}},V=function(){const t=(0,i.gn)(this,O,"f").value.trim().toLowerCase().split(" ");let n=!1;for(const{searchNames:e,button:s}of(0,i.gn)(this,R,"f")){const i=e.flatMap((t=>t.split(" ")));t.every((t=>i.some((n=>n.startsWith(t)))))?(n=!0,s.style.display=""):s.style.display="none"}(0,i.gn)(this,B,"f").style.display=n?"none":""};const X=class{constructor(t,n,e,s,o){T.add(this),z.set(this,void 0),P.set(this,void 0),I.set(this,void 0),U.set(this,void 0),H.set(this,void 0),O.set(this,void 0),D.set(this,void 0),R.set(this,[]),B.set(this,void 0),F.set(this,void 0),(0,i.GG)(this,z,t,"f"),(0,i.GG)(this,P,n,"f"),(0,i.GG)(this,I,o,"f");const a=document.getElementById("ui");if(null==a)throw new Error("UI element not found");(0,i.GG)(this,U,a,"f"),(0,i.GG)(this,H,document.createElement("div"),"f"),(0,i.gn)(this,H,"f").className="country-selection-ui",(0,i.gn)(this,U,"f").appendChild((0,i.gn)(this,H,"f"));const l=document.createElement("div");l.className="background",(0,i.gn)(this,H,"f").appendChild(l);const c=document.createElement("div");c.className="container",(0,i.gn)(this,H,"f").appendChild(c);const r=document.createElement("h1");r.textContent=t.get("Select country"),c.appendChild(r);const h=document.createElement("div");h.className="search-bar-container",c.appendChild(h),(0,i.GG)(this,O,document.createElement("input"),"f"),(0,i.gn)(this,O,"f").type="text",(0,i.gn)(this,O,"f").spellcheck=!1,(0,i.gn)(this,O,"f").autocomplete="off",(0,i.gn)(this,O,"f").enterKeyHint="search",(0,i.gn)(this,O,"f").placeholder=(0,i.gn)(this,z,"f").get("Search country..."),(0,i.gn)(this,O,"f").addEventListener("input",(()=>{(0,i.gn)(this,T,"m",V).call(this)})),h.appendChild((0,i.gn)(this,O,"f")),(0,i.gn)(this,O,"f").focus();const d=document.createElement("img");d.src="images/search.svg",h.appendChild(d),(0,i.GG)(this,D,document.createElement("div"),"f"),(0,i.gn)(this,D,"f").className="content",c.appendChild((0,i.gn)(this,D,"f")),(0,i.GG)(this,B,document.createElement("div"),"f"),(0,i.gn)(this,B,"f").className="nothing-found-message",(0,i.gn)(this,B,"f").style.display="none",(0,i.gn)(this,B,"f").textContent=(0,i.gn)(this,z,"f").get("No countries found"),(0,i.gn)(this,D,"f").appendChild((0,i.gn)(this,B,"f"));let g=null;const f=[null].concat((0,L.O)());for(const t of f){const{searchNames:n,button:s}=(0,i.gn)(this,T,"m",q).call(this,t);t?.code==e&&(g=s),(0,i.gn)(this,R,"f").push({searchNames:n,button:s})}const p=document.createElement("div");p.className="button-wrapper",c.appendChild(p);const u=document.createElement("button");u.className="button",u.innerHTML='<img class="button-icon" src="images/cancel.svg"> ',u.appendChild(document.createTextNode(t.get("Cancel"))),u.addEventListener("click",(()=>{n.playUIClick(),s()})),p.appendChild(u),null!=g&&(g.classList.add("selected"),(0,i.gn)(this,D,"f").scrollTop=Math.max(0,g.offsetTop-(0,i.gn)(this,D,"f").offsetTop-(0,i.gn)(this,D,"f").clientHeight/2+g.clientHeight/2)),window.addEventListener("keydown",(0,i.GG)(this,F,(t=>{"Escape"==t.code&&(s(),t.preventDefault())}),"f"))}dispose(){(0,i.gn)(this,U,"f").removeChild((0,i.gn)(this,H,"f")),window.removeEventListener("keydown",(0,i.gn)(this,F,"f"))}};var Q,Y,_,j,Z,J,K,$;Y=new WeakMap,_=new WeakMap,j=new WeakMap,Z=new WeakMap,J=new WeakMap,K=new WeakMap,Q=new WeakSet,$=function(){let t=(0,i.gn)(this,j,"f").value;return/\S/.test(t)||(t="Anonymous"),{nickname:t,countryCode:(0,i.gn)(this,J,"f")}};const tt=class{constructor(t,n,e,s,o,a,l,c,r){Q.add(this),Y.set(this,void 0),_.set(this,void 0),j.set(this,void 0),Z.set(this,void 0),J.set(this,void 0),K.set(this,null),(0,i.GG)(this,J,s,"f");const h=document.getElementById("ui");if(null==h)throw new Error("UI element not found");(0,i.GG)(this,Y,h,"f"),(0,i.GG)(this,_,document.createElement("div"),"f"),(0,i.gn)(this,_,"f").className="profile-settings-ui",(0,i.gn)(this,Y,"f").appendChild((0,i.gn)(this,_,"f"));const d=document.createElement("div");d.className="background",(0,i.gn)(this,_,"f").appendChild(d);const g=document.createElement("div");g.className="container",(0,i.gn)(this,_,"f").appendChild(g);const f=document.createElement("h1");f.textContent=t.get("Profile"),g.appendChild(f);const p=document.createElement("div");p.className="content",g.appendChild(p);const u=document.createElement("div");u.className="box",p.appendChild(u);const m=document.createElement("label");m.className="title",m.append(document.createTextNode(t.get("Nickname"))),u.appendChild(m),(0,i.GG)(this,j,document.createElement("input"),"f"),(0,i.gn)(this,j,"f").type="text",(0,i.gn)(this,j,"f").placeholder=E.A.defaultNickname,(0,i.gn)(this,j,"f").spellcheck=!1,e!=(0,i.gn)(this,j,"f").placeholder&&((0,i.gn)(this,j,"f").value=e),u.appendChild((0,i.gn)(this,j,"f")),(0,i.gn)(this,j,"f").focus(),(0,i.gn)(this,j,"f").addEventListener("input",(()=>{let t=(0,i.gn)(this,j,"f").value;for(;(0,A.k)(t)>=50;)t=t.substring(0,t.length-1);(0,i.gn)(this,j,"f").value=t}));const v=document.createElement("div");v.className="description",v.textContent=t.get("Choose a nickname to be shown in the leaderboard. Your nickname can be changed at any time."),u.appendChild(v);const w=document.createElement("div");w.className="box",p.appendChild(w);const b=document.createElement("label");b.className="title",b.append(document.createTextNode(t.get("Country"))),w.appendChild(b);const x=(0,L.O)(),k=x.find((t=>t.code==(0,i.gn)(this,J,"f"))),G=k?.name??t.get("None");let y;y=null==k?"images/blank_flag.svg":"images/countries/"+k.code+".svg";const C=document.createElement("button");C.className="button country-button";const M=document.createElement("img");M.src=y,C.appendChild(M);const N=document.createElement("div");N.className="name",N.textContent=G,C.append(N),C.addEventListener("click",(()=>{if(n.playUIClick(),null==(0,i.gn)(this,K,"f")){(0,i.gn)(this,_,"f").classList.add("hidden");const e=(0,i.gn)(this,J,"f");(0,i.GG)(this,K,new X(t,n,e,(()=>{(0,i.gn)(this,_,"f").classList.remove("hidden"),(0,i.gn)(this,K,"f")?.dispose(),(0,i.GG)(this,K,null,"f")}),(n=>{(0,i.gn)(this,_,"f").classList.remove("hidden"),(0,i.GG)(this,J,n,"f");const e=x.find((t=>t.code==(0,i.gn)(this,J,"f"))),s=e?.name??t.get("None");let o;o=null==e?"images/blank_flag.svg":"images/countries/"+e.code+".svg",M.src=o,N.textContent=s,(0,i.gn)(this,K,"f")?.dispose(),(0,i.GG)(this,K,null,"f")})),"f")}})),w.appendChild(C);const W=document.createElement("div");W.className="description",W.textContent=t.get("Select your country to be shown in the leaderboard. This is optional and can be changed at any time. Only UN member states are listed."),w.appendChild(W);const S=document.createElement("div");S.className="user-token-hash",S.textContent=t.get("User ID")+": "+o.tokenHash,p.appendChild(S);const T=document.createElement("div");T.className="double-box-container",p.appendChild(T);const z=document.createElement("div");z.className="box",T.appendChild(z);const P=document.createElement("button");P.className="button delete",P.innerHTML=' <img class="button-icon" src="images/delete.svg"> ',P.append(t.get("Delete")),P.addEventListener("click",(()=>{n.playUIClick(),l((0,i.gn)(this,Q,"m",$).call(this))})),z.appendChild(P);const I=document.createElement("div");I.className="description",I.textContent=t.get("Delete your profile from this device. The profile will remain on other devices and can be restored using the private token."),z.appendChild(I);const U=document.createElement("div");U.className="box",T.appendChild(U);const H=document.createElement("button");H.className="button",H.innerHTML='<img class="button-icon" src="images/export.svg"> ',H.append(t.get("Export")),H.addEventListener("click",(()=>{n.playUIClick(),c((0,i.gn)(this,Q,"m",$).call(this),o.token)})),U.appendChild(H);const O=document.createElement("div");O.className="description",O.textContent=t.get("Export your private token. This token can be used to back up your account or restore it on another device."),U.appendChild(O);const D=document.createElement("div");D.className="button-wrapper",g.appendChild(D);const R=document.createElement("button");if(R.className="button",R.innerHTML='<img class="button-icon" src="images/cancel.svg"> ',R.appendChild(document.createTextNode(t.get("Cancel"))),R.addEventListener("click",(()=>{n.playUIClick(),r(null)})),D.appendChild(R),a){const e=document.createElement("button");e.className="button",e.innerHTML=' <img class="button-icon" src="images/save.svg">',e.prepend(document.createTextNode(t.get("Save"))),e.addEventListener("click",(()=>{n.playUIClick(),r((0,i.gn)(this,Q,"m",$).call(this))})),D.appendChild(e)}else{const e=document.createElement("button");e.className="button",e.innerHTML=' <img class="button-icon" src="images/apply.svg">',e.prepend(document.createTextNode(t.get("Confirm"))),e.addEventListener("click",(()=>{n.playUIClick(),r((0,i.gn)(this,Q,"m",$).call(this))})),D.appendChild(e)}window.addEventListener("keydown",(0,i.GG)(this,Z,(t=>{null==(0,i.gn)(this,K,"f")&&("Escape"==t.code?(r(null),t.preventDefault()):"Enter"==t.code&&(r((0,i.gn)(this,Q,"m",$).call(this)),t.preventDefault()))}),"f"))}dispose(){(0,i.gn)(this,Y,"f").removeChild((0,i.gn)(this,_,"f")),(0,i.gn)(this,K,"f")?.dispose(),(0,i.GG)(this,K,null,"f"),window.removeEventListener("keydown",(0,i.gn)(this,Z,"f"))}};var nt=e(3257),et={};et.styleTagTransform=b(),et.setAttributes=u(),et.insert=f().bind(null,"head"),et.domAPI=d(),et.insertStyleElement=v();r()(nt.A,et);nt.A&&nt.A.locals&&nt.A.locals;var it,st,ot,at=e(202);it=new WeakMap,st=new WeakMap,ot=new WeakMap;const lt=class{constructor(t,n,e,s,o){it.set(this,void 0),st.set(this,void 0),ot.set(this,void 0);const a=document.getElementById("ui");if(null==a)throw new Error("UI element not found");(0,i.GG)(this,it,a,"f"),(0,i.GG)(this,st,document.createElement("div"),"f"),(0,i.gn)(this,st,"f").className="user-export-ui",(0,i.gn)(this,it,"f").appendChild((0,i.gn)(this,st,"f"));const l=document.createElement("div");l.className="background",(0,i.gn)(this,st,"f").appendChild(l);const c=document.createElement("div");c.className="container",(0,i.gn)(this,st,"f").appendChild(c);const r=document.createElement("textarea");r.value=e,r.readOnly=null==o,r.placeholder="Paste user token here...",c.appendChild(r);const h=document.createElement("div");h.className="bar",c.appendChild(h);const d=document.createElement("button");if(d.className="button",d.innerHTML='<img class="button-icon" src="images/back.svg"> ',d.append(document.createTextNode(n.get("Back"))),d.addEventListener("click",(()=>{t.playUIClick(),s()})),h.appendChild(d),null!=o){const e=document.createElement("button");e.className="button right",e.innerHTML='<img class="button-icon" src="images/import.svg"> ',e.append(document.createTextNode(n.get("Import"))),e.addEventListener("click",(()=>{t.playUIClick(),o(r.value)})),h.appendChild(e)}else{const e=new at.A(t,n,(()=>r.value));e.classList.add("right"),h.appendChild(e)}window.addEventListener("keydown",(0,i.GG)(this,ot,(t=>{"Escape"==t.code&&(s(),t.preventDefault())}),"f"))}dispose(){(0,i.gn)(this,it,"f").removeChild((0,i.gn)(this,st,"f")),window.removeEventListener("keydown",(0,i.gn)(this,ot,"f"))}};var ct=e(35),rt={};rt.styleTagTransform=b(),rt.setAttributes=u(),rt.insert=f().bind(null,"head"),rt.domAPI=d(),rt.insertStyleElement=v();r()(ct.A,rt);ct.A&&ct.A.locals&&ct.A.locals;var ht,dt,gt,ft,pt,ut,mt,vt,wt,bt,xt=e(1055),kt=e(832);dt=new WeakMap,gt=new WeakMap,ft=new WeakMap,pt=new WeakMap,ut=new WeakMap,mt=new WeakMap,vt=new WeakMap,wt=new WeakMap,ht=new WeakSet,bt=function(t,n,e){const s=(0,i.gn)(this,pt,"f").getUserProfile(n),o=document.createElement("div");o.className="slot";const a=document.createElement("button");if(a.className="button main",n==(0,i.gn)(this,pt,"f").profileSlot&&a.classList.add("selected"),a.addEventListener("click",(()=>{(0,i.gn)(this,ft,"f").playUIClick();for(const t of(0,i.gn)(this,mt,"f"))t.classList.remove("selected");a.classList.add("selected"),e(n)})),o.appendChild(a),(0,i.gn)(this,mt,"f").push(a),null!=s){const t=document.createElement("div");t.className="image-container",a.appendChild(t);const n=document.createElement("img");n.className="placeholder show",n.src="images/car_thumbnail_placeholder.png",t.appendChild(n);const e=document.createElement("img");kt.F(s.carStyle,(0,i.gn)(this,wt,"f")).then((t=>{e.src=t,n.classList.remove("show"),e.classList.add("show")})),t.appendChild(e);const o=document.createElement("div");o.className="name-container",a.appendChild(o);const l=(0,L.O)(),c=null==s.countryCode?null:l.find((t=>t.code==s.countryCode));if(null!=c){const t=document.createElement("img");t.className="country-flag",t.src="images/countries/"+c.code+".svg",t.draggable=!1,t.title=c.name,o.appendChild(t)}const r=document.createElement("span");r.className="name",r.textContent=s.nickname,o.appendChild(r)}else{const t=document.createElement("div");t.className="image-container",a.appendChild(t);const n=document.createElement("img");n.className="show",n.src="images/car_thumbnail_placeholder.png",t.appendChild(n);const e=document.createElement("div");e.className="name-container",a.appendChild(e);const s=document.createElement("span");s.className="name empty",s.textContent=(0,i.gn)(this,gt,"f").get("Empty"),e.appendChild(s)}t.appendChild(o)};const Gt=class{constructor(t,n,e,s,o,a){ht.add(this),dt.set(this,void 0),gt.set(this,void 0),ft.set(this,void 0),pt.set(this,void 0),ut.set(this,void 0),mt.set(this,[]),vt.set(this,void 0),wt.set(this,new xt.A);const l=document.getElementById("ui");if(null==l)throw new Error("UI element not found");(0,i.GG)(this,dt,l,"f"),(0,i.GG)(this,gt,t,"f"),(0,i.GG)(this,ft,n,"f"),(0,i.GG)(this,pt,e,"f"),(0,i.GG)(this,ut,document.createElement("div"),"f"),(0,i.gn)(this,ut,"f").className="profile-selection-ui",(0,i.gn)(this,dt,"f").appendChild((0,i.gn)(this,ut,"f"));const c=document.createElement("div");c.className="background",(0,i.gn)(this,ut,"f").appendChild(c);const r=document.createElement("div");r.className="container",(0,i.gn)(this,ut,"f").appendChild(r);const h=document.createElement("div");h.className="top-bar",r.appendChild(h);const d=document.createElement("h2");d.textContent=t.get("Profiles"),h.appendChild(d);for(let t=0;t<E.A.maxNumberOfProfiles;t++)(0,i.gn)(this,ht,"m",bt).call(this,r,t,a);const g=document.createElement("div");g.className="bottom-bar",r.appendChild(g);const f=document.createElement("button");f.className="button",f.innerHTML='<img class="button-icon" src="images/cancel.svg"> ',f.append(document.createTextNode(t.get("Close"))),f.addEventListener("click",(()=>{n.playUIClick(),s()})),g.appendChild(f);const p=document.createElement("button");p.className="button right",p.innerHTML='<img class="button-icon" src="images/import.svg"> ',p.append(document.createTextNode(t.get("Import"))),p.addEventListener("click",(()=>{n.playUIClick(),o()})),g.appendChild(p),window.addEventListener("keydown",(0,i.GG)(this,vt,(t=>{"Escape"==t.code&&(s(),t.preventDefault())}),"f"))}dispose(){(0,i.gn)(this,wt,"f").cancel(),(0,i.gn)(this,dt,"f").removeChild((0,i.gn)(this,ut,"f")),window.removeEventListener("keydown",(0,i.gn)(this,vt,"f"))}};var yt=e(4975),Ct={};Ct.styleTagTransform=b(),Ct.setAttributes=u(),Ct.insert=f().bind(null,"head"),Ct.domAPI=d(),Ct.insertStyleElement=v();r()(yt.A,Ct);yt.A&&yt.A.locals&&yt.A.locals;var Et=e(4191),Mt={};Mt.styleTagTransform=b(),Mt.setAttributes=u(),Mt.insert=f().bind(null,"head"),Mt.domAPI=d(),Mt.insertStyleElement=v();r()(Et.A,Mt);Et.A&&Et.A.locals&&Et.A.locals;var Nt,Lt,At,Wt,St,Tt,zt,Pt,It,Ut,Ht,Ot,Dt,Rt,Bt,Ft,qt,Vt,Xt;Lt=new WeakMap,At=new WeakMap,Wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,zt=new WeakMap,Pt=new WeakMap,It=new WeakMap,Ut=new WeakMap,Ht=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Rt=new WeakMap,Bt=new WeakMap,Ft=new WeakMap,qt=new WeakMap,Nt=new WeakSet,Vt=function(){(0,i.gn)(this,It,"f").style.left="calc("+(100*(0,i.gn)(this,Dt,"f")/360).toString()+"% - 1px)",(0,i.gn)(this,St,"f").style.backgroundImage="linear-gradient(transparent, #000), linear-gradient(to right, transparent, hsla("+(0,i.gn)(this,Dt,"f").toString()+", 100%, 50%, 1))"},Xt=function(){(0,i.gn)(this,Tt,"f").style.left="calc("+(0,i.gn)(this,Ot,"f").toString()+"% - 6px)",(0,i.gn)(this,Tt,"f").style.top="calc("+(100-(0,i.gn)(this,Ht,"f")).toString()+"% - 6px)"};const Qt=class{constructor(t,n){Nt.add(this),Lt.set(this,void 0),At.set(this,void 0),Wt.set(this,void 0),St.set(this,void 0),Tt.set(this,void 0),zt.set(this,!1),Pt.set(this,void 0),It.set(this,void 0),Ut.set(this,!1),Ht.set(this,0),Ot.set(this,0),Dt.set(this,0),Rt.set(this,void 0),Bt.set(this,void 0),Ft.set(this,void 0),qt.set(this,void 0),(0,i.GG)(this,Lt,t,"f"),(0,i.GG)(this,At,n,"f"),(0,i.GG)(this,Wt,document.createElement("div"),"f"),(0,i.gn)(this,Wt,"f").className="color-picker-ui",(0,i.GG)(this,St,document.createElement("div"),"f"),(0,i.gn)(this,St,"f").className="value-saturation-picker",(0,i.gn)(this,Wt,"f").appendChild((0,i.gn)(this,St,"f")),(0,i.GG)(this,Tt,document.createElement("div"),"f"),(0,i.gn)(this,Tt,"f").className="marker",(0,i.gn)(this,St,"f").appendChild((0,i.gn)(this,Tt,"f")),(0,i.GG)(this,Pt,document.createElement("div"),"f"),(0,i.gn)(this,Pt,"f").className="hue-picker",(0,i.gn)(this,Wt,"f").appendChild((0,i.gn)(this,Pt,"f")),(0,i.GG)(this,It,document.createElement("div"),"f"),(0,i.gn)(this,It,"f").className="marker",(0,i.gn)(this,Pt,"f").appendChild((0,i.gn)(this,It,"f")),(0,i.gn)(this,Lt,"f").appendChild((0,i.gn)(this,Wt,"f"));(0,i.GG)(this,Rt,(t=>{let e=null;if(t instanceof MouseEvent?(0,i.gn)(this,zt,"f")&&(e=t):t instanceof TouchEvent&&t.targetTouches.length>0&&(e=t.targetTouches[t.targetTouches.length-1]),null!=e){const t=(0,i.gn)(this,St,"f").getBoundingClientRect(),s=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),o=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));(0,i.GG)(this,Ot,100*s,"f"),(0,i.GG)(this,Ht,100*(1-o),"f"),(0,i.gn)(this,Nt,"m",Xt).call(this),n(this.color)}}),"f"),(0,i.GG)(this,Bt,(t=>{0==t.button&&(0,i.GG)(this,zt,!1,"f")}),"f"),(0,i.gn)(this,St,"f").addEventListener("mousedown",(t=>{0==t.button&&(0,i.GG)(this,zt,!0,"f"),(0,i.gn)(this,Rt,"f").call(this,t)})),window.addEventListener("mouseup",(0,i.gn)(this,Bt,"f")),window.addEventListener("mousemove",(0,i.gn)(this,Rt,"f")),(0,i.gn)(this,St,"f").addEventListener("touchstart",(0,i.gn)(this,Rt,"f")),(0,i.gn)(this,St,"f").addEventListener("touchmove",(0,i.gn)(this,Rt,"f")),(0,i.GG)(this,Ft,(t=>{let e=null;if(t instanceof MouseEvent?(0,i.gn)(this,Ut,"f")&&(e=t):t instanceof TouchEvent&&t.targetTouches.length>0&&(e=t.targetTouches[t.targetTouches.length-1]),null!=e){const t=(0,i.gn)(this,Pt,"f").getBoundingClientRect(),s=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width));(0,i.GG)(this,Dt,360*s,"f"),(0,i.gn)(this,Nt,"m",Vt).call(this),n(this.color)}}),"f"),(0,i.GG)(this,qt,(t=>{0==t.button&&(0,i.GG)(this,Ut,!1,"f")}),"f"),(0,i.gn)(this,Pt,"f").addEventListener("mousedown",(t=>{0==t.button&&(0,i.GG)(this,Ut,!0,"f"),(0,i.gn)(this,Ft,"f").call(this,t)})),window.addEventListener("mouseup",(0,i.gn)(this,qt,"f")),window.addEventListener("mousemove",(0,i.gn)(this,Ft,"f")),(0,i.gn)(this,Pt,"f").addEventListener("touchstart",(0,i.gn)(this,Ft,"f")),(0,i.gn)(this,Pt,"f").addEventListener("touchmove",(0,i.gn)(this,Ft,"f")),(0,i.gn)(this,Nt,"m",Vt).call(this),(0,i.gn)(this,Nt,"m",Xt).call(this)}dispose(){window.removeEventListener("mouseup",(0,i.gn)(this,Bt,"f")),window.removeEventListener("mousemove",(0,i.gn)(this,Rt,"f")),window.removeEventListener("mouseup",(0,i.gn)(this,qt,"f")),window.removeEventListener("mousemove",(0,i.gn)(this,Ft,"f"))}get color(){const t=(0,i.gn)(this,Ot,"f")/100,n=(0,i.gn)(this,Ht,"f")/100,e=n-n*t/2,o=Math.min(e,1-e),a=0!=o?(n-e)/o:0;return new s.Q1f("hsl("+(0,i.gn)(this,Dt,"f").toString()+","+(100*a).toString()+"%,"+(100*e).toString()+"%)")}set color(t){const{h:n,s:e,l:o}=t.getHSL({h:0,s:0,l:0},s.er$),a=o+e*Math.min(o,1-o),l=0==a?0:2*(1-o/a);(0,i.GG)(this,Dt,360*n,"f"),(0,i.GG)(this,Ot,100*l,"f"),(0,i.GG)(this,Ht,100*a,"f"),(0,i.gn)(this,Nt,"m",Vt).call(this),(0,i.gn)(this,Nt,"m",Xt).call(this),(0,i.gn)(this,At,"f").call(this,this.color)}};var Yt,_t,jt,Zt,Jt,Kt,$t,tn,nn,en,sn,on,an,ln,cn,rn,hn,dn,gn,fn,pn,un,mn,vn,wn,bn,xn=e(243);class kn{constructor(t,n,e,o,a,l,c){Yt.add(this),jt.set(this,void 0),Zt.set(this,void 0),Jt.set(this,void 0),Kt.set(this,y.A.defaultPattern),$t.set(this,y.A.defaultRims),tn.set(this,y.A.defaultExhaust),nn.set(this,void 0),en.set(this,new Map),sn.set(this,void 0),on.set(this,new Map),an.set(this,void 0),ln.set(this,new Map),cn.set(this,[]),rn.set(this,void 0),hn.set(this,new xt.A),(0,i.GG)(this,jt,o,"f"),(0,i.GG)(this,Zt,a,"f"),(0,i.GG)(this,rn,l,"f"),(0,i.GG)(this,Jt,document.createElement("div"),"f"),(0,i.gn)(this,Jt,"f").className="customization-panel-ui",(0,i.gn)(this,Zt,"f").appendChild((0,i.gn)(this,Jt,"f"));const r=document.createElement("div");r.className="tab-bar",(0,i.gn)(this,Jt,"f").appendChild(r);const h=document.createElement("div");h.className="panel color-panel",(0,i.gn)(this,Jt,"f").appendChild(h);const d=document.createElement("div");d.className="left",h.appendChild(d);const g=document.createElement("div");g.className="right",h.appendChild(g),(0,i.gn)(this,Yt,"m",bn).call(this,n.get("Primary"),d),(0,i.gn)(this,Yt,"m",bn).call(this,n.get("Secondary"),d),(0,i.gn)(this,Yt,"m",bn).call(this,n.get("Frame"),g),(0,i.gn)(this,Yt,"m",bn).call(this,n.get("Rims"),g),(0,i.GG)(this,nn,document.createElement("div"),"f"),(0,i.gn)(this,nn,"f").className="panel options-panel hidden",(0,i.gn)(this,Jt,"f").appendChild((0,i.gn)(this,nn,"f"));for(let s=0;s<y.A.patterns.length;s++){if(!y.A.isValidPattern(s))throw new Error("Invalid car style pattern");let o=null;const a=document.createElement("button");a.addEventListener("click",(()=>{t.playUIClick(),(0,i.gn)(this,jt,"f").isPatternUnlocked(s)?((0,i.GG)(this,Kt,s,"f"),(0,i.gn)(this,Yt,"m",gn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this)):e.showConfirm(n.get("Would you like to watch an ad to unlock this item?"),n.get("Cancel"),n.get("Watch"),null,(()=>{xn.$L().then((t=>{t?((0,i.GG)(this,Kt,s,"f"),(0,i.gn)(this,Yt,"m",gn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this),null!=o&&(a.removeChild(o),o=null),(0,i.gn)(this,jt,"f").unlockPattern(s)):e.show(n.get("Ad not completed"),n.get("Ok"),null)}))}))})),s==(0,i.gn)(this,Kt,"f")&&a.classList.add("selected"),(0,i.gn)(this,nn,"f").appendChild(a);const l=new y.A(s,y.A.defaultRims,y.A.defaultExhaust,2236962,9868950,1250067,6710886),c=document.createElement("img");c.className="loading",kt.F(l,(0,i.gn)(this,hn,"f")).then((t=>{c.src=t,c.classList.remove("loading")})),a.appendChild(c),(0,i.gn)(this,jt,"f").isPatternUnlocked(s)||(o=document.createElement("img"),o.className="video-icon",o.src="images/video.svg",a.appendChild(o)),(0,i.gn)(this,en,"f").set(s,a)}(0,i.GG)(this,sn,document.createElement("div"),"f"),(0,i.gn)(this,sn,"f").className="panel options-panel hidden",(0,i.gn)(this,Jt,"f").appendChild((0,i.gn)(this,sn,"f"));for(let o=0;o<y.A.rims.length;o++){if(!y.A.isValidRims(o))throw new Error("Invalid car style rims");let a=null;const l=document.createElement("button");l.addEventListener("click",(()=>{t.playUIClick(),(0,i.gn)(this,jt,"f").isRimsUnlocked(o)?((0,i.GG)(this,$t,o,"f"),(0,i.gn)(this,Yt,"m",fn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this)):e.showConfirm(n.get("Would you like to watch an ad to unlock this item?"),n.get("Cancel"),n.get("Watch"),null,(()=>{xn.$L().then((t=>{t?((0,i.GG)(this,$t,o,"f"),(0,i.gn)(this,Yt,"m",fn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this),null!=a&&(l.removeChild(a),a=null),(0,i.gn)(this,jt,"f").unlockRims(o)):e.show(n.get("Ad not completed"),n.get("Ok"),null)})).catch((t=>{console.error(t)}))}))})),o==(0,i.gn)(this,$t,"f")&&l.classList.add("selected"),(0,i.gn)(this,sn,"f").appendChild(l);const c=new y.A(y.A.defaultPattern,o,y.A.defaultExhaust,9868950,9868950,1250067,6710886),r=document.createElement("img");r.className="loading",kt.F(c,(0,i.gn)(this,hn,"f"),{position:new s.Pq0(1e3,.19190498995780947,1.3478),look:new s.Pq0(0,.19190498995780947,1.3478),zoom:2.5}).then((t=>{r.src=t,r.classList.remove("loading")})),l.appendChild(r),(0,i.gn)(this,jt,"f").isRimsUnlocked(o)||(a=document.createElement("img"),a.className="video-icon",a.src="images/video.svg",l.appendChild(a)),(0,i.gn)(this,on,"f").set(o,l)}(0,i.GG)(this,an,document.createElement("div"),"f"),(0,i.gn)(this,an,"f").className="panel options-panel hidden",(0,i.gn)(this,Jt,"f").appendChild((0,i.gn)(this,an,"f"));for(let o=0;o<y.A.exhausts.length;o++){if(!y.A.isValidExhaust(o))throw new Error("Invalid car style exhaust");let a=null;const l=document.createElement("button");l.addEventListener("click",(()=>{t.playUIClick(),(0,i.gn)(this,jt,"f").isExhaustUnlocked(o)?((0,i.GG)(this,tn,o,"f"),(0,i.gn)(this,Yt,"m",pn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this)):e.showConfirm(n.get("Would you like to watch an ad to unlock this item?"),n.get("Cancel"),n.get("Watch"),null,(()=>{xn.$L().then((t=>{t?((0,i.GG)(this,tn,o,"f"),(0,i.gn)(this,Yt,"m",pn).call(this),(0,i.gn)(this,Yt,"m",dn).call(this),null!=a&&(l.removeChild(a),a=null),(0,i.gn)(this,jt,"f").unlockExhaust(o)):e.show(n.get("Ad not completed"),n.get("Ok"),null)})).catch((t=>{console.error(t)}))}))})),o==(0,i.gn)(this,tn,"f")&&l.classList.add("selected"),(0,i.gn)(this,an,"f").appendChild(l);const c=new y.A(y.A.defaultPattern,y.A.defaultRims,o,9868950,9868950,1250067,6710886),r=document.createElement("img");r.className="loading",kt.F(c,(0,i.gn)(this,hn,"f"),{position:new s.Pq0(1100,-800.5,-1001.7),look:new s.Pq0(0,.5,-1.7),zoom:2}).then((t=>{r.src=t,r.classList.remove("loading")})),l.appendChild(r),(0,i.gn)(this,jt,"f").isExhaustUnlocked(o)||(a=document.createElement("img"),a.className="video-icon",a.src="images/video.svg",l.appendChild(a)),(0,i.gn)(this,ln,"f").set(o,l)}const f=[{title:n.get("Paint"),icon:"images/paint.svg",panel:h},{title:n.get("Pattern"),icon:"images/pattern.svg",panel:(0,i.gn)(this,nn,"f")},{title:n.get("Rims"),icon:"images/rims.svg",panel:(0,i.gn)(this,sn,"f")},{title:n.get("Exhaust"),icon:"images/exhaust.svg",panel:(0,i.gn)(this,an,"f")}];let p=f[0];const u=[];for(const n of f){const e=document.createElement("button");e.className="button",e.textContent=n.title,e.addEventListener("click",(()=>{t.playUIClick();for(const t of u)t.classList.remove("selected");h.classList.add("hidden"),(0,i.gn)(this,nn,"f").classList.add("hidden"),(0,i.gn)(this,sn,"f").classList.add("hidden"),(0,i.gn)(this,an,"f").classList.add("hidden"),e.classList.add("selected"),n.panel.classList.remove("hidden"),p!=n&&(n.panel==h?c(new s.Pq0(0,2,6)):n.panel==(0,i.gn)(this,nn,"f")?((0,i.gn)(this,Yt,"m",un).call(this),c(new s.Pq0(0,2,6))):n.panel==(0,i.gn)(this,sn,"f")?((0,i.gn)(this,Yt,"m",mn).call(this),c(new s.Pq0(-.5155052947032,.74948865866975,3.8370986018837385))):n.panel==(0,i.gn)(this,an,"f")&&((0,i.gn)(this,Yt,"m",vn).call(this),c(new s.Pq0(2.874291197536667,.9837316369014955,-.7283975369068978)))),p=n})),0==u.length&&e.classList.add("selected"),e.appendChild(document.createTextNode(" "));const o=document.createElement("img");o.className="button-icon",o.src=n.icon,e.appendChild(o),r.appendChild(e),u.push(e)}}dispose(){(0,i.gn)(this,hn,"f").cancel(),(0,i.gn)(this,Zt,"f").removeChild((0,i.gn)(this,Jt,"f"));for(const t of(0,i.gn)(this,cn,"f"))t.dispose()}setCarStyle(t){(0,i.GG)(this,Kt,t.pattern,"f"),(0,i.GG)(this,$t,t.rims,"f"),(0,i.GG)(this,tn,t.exhaust,"f"),(0,i.gn)(this,jt,"f").isPatternUnlocked((0,i.gn)(this,Kt,"f"))||(0,i.gn)(this,jt,"f").unlockPattern((0,i.gn)(this,Kt,"f")),(0,i.gn)(this,jt,"f").isRimsUnlocked((0,i.gn)(this,$t,"f"))||(0,i.gn)(this,jt,"f").unlockRims((0,i.gn)(this,$t,"f")),(0,i.gn)(this,jt,"f").isExhaustUnlocked((0,i.gn)(this,tn,"f"))||(0,i.gn)(this,jt,"f").unlockExhaust((0,i.gn)(this,tn,"f")),(0,i.gn)(this,Yt,"m",gn).call(this),(0,i.gn)(this,Yt,"m",fn).call(this),(0,i.gn)(this,Yt,"m",pn).call(this),(0,i.gn)(this,Yt,"m",un).call(this),(0,i.gn)(this,Yt,"m",mn).call(this),(0,i.gn)(this,Yt,"m",vn).call(this),(0,i.gn)(this,cn,"f")[0].color=t.primaryColor,(0,i.gn)(this,cn,"f")[1].color=t.secondaryColor,(0,i.gn)(this,cn,"f")[2].color=t.frameColor,(0,i.gn)(this,cn,"f")[3].color=t.rimsColor}}_t=kn,jt=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Kt=new WeakMap,$t=new WeakMap,tn=new WeakMap,nn=new WeakMap,en=new WeakMap,sn=new WeakMap,on=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap,rn=new WeakMap,hn=new WeakMap,Yt=new WeakSet,dn=function(){const t=new y.A((0,i.gn)(this,Kt,"f"),(0,i.gn)(this,$t,"f"),(0,i.gn)(this,tn,"f"),(0,i.gn)(this,cn,"f")[0].color.getHex(),(0,i.gn)(this,cn,"f")[1].color.getHex(),(0,i.gn)(this,cn,"f")[2].color.getHex(),(0,i.gn)(this,cn,"f")[3].color.getHex());(0,i.gn)(this,rn,"f").call(this,t)},gn=function(){for(const[t,n]of(0,i.gn)(this,en,"f"))t==(0,i.gn)(this,Kt,"f")?n.classList.add("selected"):n.classList.remove("selected")},fn=function(){for(const[t,n]of(0,i.gn)(this,on,"f"))t==(0,i.gn)(this,$t,"f")?n.classList.add("selected"):n.classList.remove("selected")},pn=function(){for(const[t,n]of(0,i.gn)(this,ln,"f"))t==(0,i.gn)(this,tn,"f")?n.classList.add("selected"):n.classList.remove("selected")},un=function(){const t=(0,i.gn)(this,en,"f").get((0,i.gn)(this,Kt,"f"));null!=t&&(0,i.gn)(_t,_t,"m",wn).call(_t,(0,i.gn)(this,nn,"f"),t)},mn=function(){const t=(0,i.gn)(this,on,"f").get((0,i.gn)(this,$t,"f"));null!=t&&(0,i.gn)(_t,_t,"m",wn).call(_t,(0,i.gn)(this,sn,"f"),t)},vn=function(){const t=(0,i.gn)(this,ln,"f").get((0,i.gn)(this,tn,"f"));null!=t&&(0,i.gn)(_t,_t,"m",wn).call(_t,(0,i.gn)(this,an,"f"),t)},wn=function(t,n){if(t.scrollTo){const e=t.clientHeight,i=n.offsetTop-t.offsetTop-e/2+n.offsetHeight/2;t.scrollTo({top:i,behavior:"instant"})}else n.scrollIntoView({behavior:"instant",block:"nearest",inline:"start"})},bn=function(t,n){const e=document.createElement("div");e.className="color",n.appendChild(e);const o=document.createElement("h2");o.textContent=t,e.appendChild(o);const a=document.createElement("div");a.className="input-container",e.appendChild(a);const l=document.createElement("input");l.type="text",l.addEventListener("input",(()=>{let t=l.value;/^[0-9A-F]{6}$/i.test(t)&&(t="#"+t),r.color=new s.Q1f(t),(0,i.gn)(this,Yt,"m",dn).call(this)})),l.addEventListener("blur",(()=>{l.value="#"+r.color.getHexString()})),a.appendChild(l);const c=document.createElement("div");c.className="color-preview",a.appendChild(c);const r=new Qt(e,(t=>{document.activeElement!=l&&(l.value="#"+t.getHexString()),c.style.backgroundColor="#"+t.getHexString(),(0,i.gn)(this,Yt,"m",dn).call(this)}));l.value="#"+r.color.getHexString(),(0,i.gn)(this,cn,"f").push(r)};const Gn=kn;var yn,Cn,En,Mn,Nn,Ln;Cn=new WeakMap,En=new WeakMap,Mn=new WeakMap,Nn=new WeakMap,yn=new WeakSet,Ln=function(){(0,i.gn)(this,Cn,"f").saveUnlockedCarStyles(Array.from((0,i.gn)(this,En,"f")),Array.from((0,i.gn)(this,Mn,"f")),Array.from((0,i.gn)(this,Nn,"f")))};const An=class{constructor(t){if(yn.add(this),Cn.set(this,void 0),En.set(this,new Set),Mn.set(this,new Set),Nn.set(this,new Set),(0,i.GG)(this,Cn,t,"f"),xn.XZ()){const{patterns:t,rims:n,exhausts:e}=(0,i.gn)(this,Cn,"f").loadUnlockedCarStyles();for(const n of t)(0,i.gn)(this,En,"f").add(n);for(const t of n)(0,i.gn)(this,Mn,"f").add(t);for(const t of e)(0,i.gn)(this,Nn,"f").add(t);for(let t=0;t<4;t++){if(!y.A.isValidPattern(t))throw new Error("Invalid car style pattern");(0,i.gn)(this,En,"f").add(t)}for(let t=0;t<3;t++){if(!y.A.isValidRims(t))throw new Error("Invalid car style rims");(0,i.gn)(this,Mn,"f").add(t)}for(let t=0;t<2;t++){if(!y.A.isValidExhaust(t))throw new Error("Invalid car style exhaust");(0,i.gn)(this,Nn,"f").add(t)}}}isPatternUnlocked(t){return!xn.XZ()||(0,i.gn)(this,En,"f").has(t)}unlockPattern(t){this.isPatternUnlocked(t)||((0,i.gn)(this,En,"f").add(t),(0,i.gn)(this,yn,"m",Ln).call(this))}isRimsUnlocked(t){return!xn.XZ()||(0,i.gn)(this,Mn,"f").has(t)}unlockRims(t){this.isRimsUnlocked(t)||((0,i.gn)(this,Mn,"f").add(t),(0,i.gn)(this,yn,"m",Ln).call(this))}isExhaustUnlocked(t){return!xn.XZ()||(0,i.gn)(this,Nn,"f").has(t)}unlockExhaust(t){this.isExhaustUnlocked(t)||((0,i.gn)(this,Nn,"f").add(t),(0,i.gn)(this,yn,"m",Ln).call(this))}};var Wn,Sn,Tn,zn,Pn,In,Un,Hn,On,Dn,Rn,Bn,Fn,qn,Vn,Xn,Qn,Yn,_n,jn,Zn,Jn,Kn,$n,te,ne,ee,ie,se,oe,ae,le,ce,re,he,de,ge,fe,pe;Sn=new WeakMap,Tn=new WeakMap,zn=new WeakMap,Pn=new WeakMap,In=new WeakMap,Un=new WeakMap,Hn=new WeakMap,On=new WeakMap,Dn=new WeakMap,Rn=new WeakMap,Bn=new WeakMap,Fn=new WeakMap,qn=new WeakMap,Vn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,_n=new WeakMap,jn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,Kn=new WeakMap,$n=new WeakMap,te=new WeakMap,ne=new WeakMap,ee=new WeakMap,ie=new WeakMap,se=new WeakMap,oe=new WeakMap,Wn=new WeakSet,ae=function(){const t=y.A.default();(0,i.gn)(this,$n,"f").setCarStyle(t),(0,i.gn)(this,Sn,"f").setCarStyle(t),(0,i.GG)(this,se,!0,"f")},le=function(){const t=y.A.patterns.map(((t,n)=>{if(!y.A.isValidPattern(n))throw new Error("Invalid car style pattern");return n})).filter((t=>(0,i.gn)(this,Vn,"f").isPatternUnlocked(t))),n=y.A.rims.map(((t,n)=>{if(!y.A.isValidRims(n))throw new Error("Invalid car style rims");return n})).filter((t=>(0,i.gn)(this,Vn,"f").isRimsUnlocked(t))),e=y.A.exhausts.map(((t,n)=>{if(!y.A.isValidExhaust(n))throw new Error("Invalid car style exhaust");return n})).filter((t=>(0,i.gn)(this,Vn,"f").isExhaustUnlocked(t))),o=t[Math.floor(Math.random()*t.length)],a=n[Math.floor(Math.random()*n.length)],l=e[Math.floor(Math.random()*e.length)],c=360*Math.random();let r,h;Math.random()<.9?(r=100*(1-Math.pow(Math.random(),2)),h=100*(.05+.25*(1-Math.pow(Math.random(),2)))):(r=0,h=100*Math.random());const d=new s.Q1f("hsl("+c.toString()+","+r.toString()+"%,"+h.toString()+"%)").getHex();let g,f,p;g=Math.random()<.5?(c+180)%360:Math.random()<.5?(c+120)%360:(c-120)%360,Math.random()<.9?(f=r,p=100*(.05+.25*(1-Math.pow(Math.random(),2)))):(f=0,p=100*Math.random());const u=new s.Q1f("hsl("+g.toString()+","+f.toString()+"%,"+p.toString()+"%)").getHex();let m,v;m=Math.random()<.5?1250067:Math.random()<.4?d:u,v=Math.random()<.5?6710886:m==d?u:m==u||Math.random()<.4?d:u;const w=new y.A(o,a,l,d,u,m,v);(0,i.gn)(this,$n,"f").setCarStyle(w),(0,i.gn)(this,Sn,"f").setCarStyle(w),(0,i.GG)(this,se,!0,"f")},ce=function(){for(let t=0;t<(0,i.gn)(this,Tn,"f").length;t++){const n=(0,i.gn)(this,Tn,"f")[t],e=(0,i.gn)(this,Hn,"f").getUserProfile(t);null!=e&&t!=(0,i.gn)(this,te,"f")?(n.setCarStyle(e.carStyle),n.setVisible(!0)):n.setVisible(!1)}},re=function t(n,e,s,o){const a=null!=o;(0,i.GG)(this,Bn,new tt((0,i.gn)(this,zn,"f"),(0,i.gn)(this,In,"f"),e,s,(0,i.gn)(this,ne,"f"),a,(e=>{(0,i.gn)(this,Bn,"f")?.dispose(),(0,i.GG)(this,Bn,null,"f"),(0,i.gn)(this,On,"f").showConfirm((0,i.gn)(this,zn,"f").get('Are you sure you would like to delete "{0}"?',[e.nickname]),(0,i.gn)(this,zn,"f").get("Cancel"),(0,i.gn)(this,zn,"f").get("Confirm"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e.nickname,e.countryCode,o)}),(()=>{if((0,i.gn)(this,Hn,"f").deleteProfileSlot(n),n==(0,i.gn)(this,Hn,"f").profileSlot){(0,i.gn)(this,Hn,"f").setProfileSlot((0,i.gn)(this,Hn,"f").firstOccupiedProfileSlot()??0),(0,i.GG)(this,te,(0,i.gn)(this,Hn,"f").profileSlot,"f"),(0,i.GG)(this,ne,(0,i.gn)(this,Hn,"f").getCurrentUserProfile(),"f"),(0,i.GG)(this,ee,(0,i.gn)(this,ne,"f").nickname,"f"),(0,i.GG)(this,ie,(0,i.gn)(this,ne,"f").countryCode,"f"),(0,i.gn)(this,Zn,"f").textContent=(0,i.gn)(this,ee,"f");const t=(0,L.O)(),n=null==(0,i.gn)(this,ie,"f")?null:t.find((t=>t.code==(0,i.gn)(this,ie,"f")));null!=n?((0,i.gn)(this,jn,"f").classList.add("loading"),(0,i.gn)(this,jn,"f").src="images/countries/"+n.code+".svg",(0,i.gn)(this,jn,"f").title=n.name,(0,i.gn)(this,jn,"f").classList.remove("hidden")):(0,i.gn)(this,jn,"f").classList.add("hidden"),(0,i.gn)(this,$n,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.gn)(this,Sn,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.GG)(this,se,!1,"f"),(0,i.gn)(this,Wn,"m",ce).call(this)}(0,i.gn)(this,_n,"f").classList.remove("hidden")}))}),((e,s)=>{(0,i.gn)(this,Bn,"f")?.dispose(),(0,i.GG)(this,Bn,null,"f"),(0,i.gn)(this,On,"f").showConfirm((0,i.gn)(this,zn,"f").get("Are you sure you want to display your private key?")+"\n\n"+(0,i.gn)(this,zn,"f").get("DO NOT SHARE THIS KEY WITH ANYONE."),(0,i.gn)(this,zn,"f").get("Cancel"),(0,i.gn)(this,zn,"f").get("Confirm"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e.nickname,e.countryCode,o)}),(()=>{(0,i.GG)(this,Fn,new lt((0,i.gn)(this,In,"f"),(0,i.gn)(this,zn,"f"),s,(()=>{(0,i.gn)(this,Fn,"f")?.dispose(),(0,i.GG)(this,Fn,null,"f"),(0,i.gn)(this,Wn,"m",t).call(this,n,e.nickname,e.countryCode,o)}),null),"f")}))}),(t=>{if((0,i.gn)(this,Bn,"f")?.dispose(),(0,i.GG)(this,Bn,null,"f"),null!=t){if(t.nickname!=(0,i.gn)(this,ee,"f")&&((0,i.GG)(this,ee,t.nickname,"f"),(0,i.gn)(this,Zn,"f").textContent=(0,i.gn)(this,ee,"f"),(0,i.GG)(this,se,!0,"f")),t.countryCode!=(0,i.gn)(this,ie,"f")){(0,i.GG)(this,ie,t.countryCode,"f");const n=(0,L.O)(),e=null==(0,i.gn)(this,ie,"f")?null:n.find((t=>t.code==(0,i.gn)(this,ie,"f")));null!=e?((0,i.gn)(this,jn,"f").classList.add("loading"),(0,i.gn)(this,jn,"f").src="images/countries/"+e.code+".svg",(0,i.gn)(this,jn,"f").title=e.name,(0,i.gn)(this,jn,"f").classList.remove("hidden")):(0,i.gn)(this,jn,"f").classList.add("hidden"),(0,i.GG)(this,se,!0,"f")}a&&(0,i.gn)(this,Wn,"m",fe).call(this)}(0,i.gn)(this,_n,"f").classList.remove("hidden")})),"f")},he=function t(n,e){(0,i.GG)(this,Fn,new lt((0,i.gn)(this,In,"f"),(0,i.gn)(this,zn,"f"),e,(()=>{(0,i.gn)(this,Fn,"f")?.dispose(),(0,i.GG)(this,Fn,null,"f"),(0,i.gn)(this,Wn,"m",de).call(this)}),(e=>{(0,i.gn)(this,Fn,"f")?.dispose(),(0,i.GG)(this,Fn,null,"f"),(0,i.gn)(this,Hn,"f").hasDuplicateToken(e)?(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("You cannot have duplicate user profiles"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e)})):(0,i.gn)(this,Hn,"f").isValidToken(e)?(0,i.gn)(this,Un,"f").getUser(e).then((s=>{if(null!=s)if((0,i.gn)(this,Hn,"f").createProfile(n,e,s.nickname,s.countryCode,s.carStyle)){(0,i.GG)(this,te,n,"f"),(0,i.gn)(this,Hn,"f").setProfileSlot(n),(0,i.GG)(this,ne,(0,i.gn)(this,Hn,"f").getCurrentUserProfile(),"f"),(0,i.GG)(this,ee,(0,i.gn)(this,ne,"f").nickname,"f"),(0,i.GG)(this,ie,(0,i.gn)(this,ne,"f").countryCode,"f"),(0,i.gn)(this,Zn,"f").textContent=(0,i.gn)(this,ee,"f");const t=(0,L.O)(),e=null==(0,i.gn)(this,ie,"f")?null:t.find((t=>t.code==(0,i.gn)(this,ie,"f")));null!=e?((0,i.gn)(this,jn,"f").classList.add("loading"),(0,i.gn)(this,jn,"f").src="images/countries/"+e.code+".svg",(0,i.gn)(this,jn,"f").title=e.name,(0,i.gn)(this,jn,"f").classList.remove("hidden")):(0,i.gn)(this,jn,"f").classList.add("hidden"),(0,i.gn)(this,$n,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.gn)(this,Sn,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.GG)(this,se,!1,"f"),(0,i.gn)(this,Wn,"m",ce).call(this),(0,i.gn)(this,_n,"f").classList.remove("hidden")}else(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("Failed to create user profile"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e)}));else(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("This user profile does not exist on the server"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e)}))})).catch((s=>{console.error(s),(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("Failed to download user profile from the server"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e)}))})):(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("User token is invalid"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this,n,e)}))})),"f")},de=function t(){(0,i.gn)(this,_n,"f").classList.add("hidden"),(0,i.GG)(this,qn,new Gt((0,i.gn)(this,zn,"f"),(0,i.gn)(this,In,"f"),(0,i.gn)(this,Hn,"f"),(()=>{(0,i.gn)(this,qn,"f")?.dispose(),(0,i.GG)(this,qn,null,"f"),(0,i.gn)(this,_n,"f").classList.remove("hidden")}),(()=>{(0,i.gn)(this,qn,"f")?.dispose(),(0,i.GG)(this,qn,null,"f");const n=(0,i.gn)(this,Hn,"f").firstFreeProfileSlot();null==n?(0,i.gn)(this,On,"f").show((0,i.gn)(this,zn,"f").get("You need a free user profile slot to import a new user profile"),(0,i.gn)(this,zn,"f").get("Ok"),(()=>{(0,i.gn)(this,Wn,"m",t).call(this)})):(0,i.gn)(this,Wn,"m",he).call(this,n,"")}),(t=>{(0,i.gn)(this,qn,"f")?.dispose(),(0,i.GG)(this,qn,null,"f"),(0,i.GG)(this,te,t,"f"),(0,i.gn)(this,Hn,"f").setProfileSlot(t),(0,i.GG)(this,ne,(0,i.gn)(this,Hn,"f").getCurrentUserProfile(),"f"),(0,i.GG)(this,ee,(0,i.gn)(this,ne,"f").nickname,"f"),(0,i.GG)(this,ie,(0,i.gn)(this,ne,"f").countryCode,"f"),(0,i.gn)(this,Zn,"f").textContent=(0,i.gn)(this,ee,"f");const n=(0,L.O)(),e=null==(0,i.gn)(this,ie,"f")?null:n.find((t=>t.code==(0,i.gn)(this,ie,"f")));null!=e?((0,i.gn)(this,jn,"f").classList.add("loading"),(0,i.gn)(this,jn,"f").src="images/countries/"+e.code+".svg",(0,i.gn)(this,jn,"f").title=e.name,(0,i.gn)(this,jn,"f").classList.remove("hidden")):(0,i.gn)(this,jn,"f").classList.add("hidden"),(0,i.gn)(this,$n,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.gn)(this,Sn,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.GG)(this,se,!1,"f"),(0,i.gn)(this,Wn,"m",ce).call(this),(0,i.gn)(this,_n,"f").classList.remove("hidden")})),"f")},ge=function(t){(0,i.gn)(this,se,"f")?(0,i.gn)(this,On,"f").showConfirm((0,i.gn)(this,zn,"f").get("Are you sure you want to exit without saving?")+"\n\n"+(0,i.gn)(this,zn,"f").get("All changes will be lost!"),(0,i.gn)(this,zn,"f").get("Cancel"),(0,i.gn)(this,zn,"f").get("Confirm"),null,(()=>{t()})):t()},fe=function(){(0,i.gn)(this,se,"f")&&((0,i.gn)(this,Hn,"f").setNickname((0,i.gn)(this,ee,"f")),(0,i.gn)(this,Hn,"f").setCountryCode((0,i.gn)(this,ie,"f")),(0,i.gn)(this,Hn,"f").setCarStyle((0,i.gn)(this,Sn,"f").getCarStyle()),(0,i.GG)(this,te,(0,i.gn)(this,Hn,"f").profileSlot,"f"),(0,i.GG)(this,ne,(0,i.gn)(this,Hn,"f").getCurrentUserProfile(),"f"),(0,i.GG)(this,se,!1,"f"),(0,i.GG)(this,oe,!0,"f")),(0,i.gn)(this,Wn,"m",pe).call(this)},pe=function(){null!=(0,i.gn)(this,Kn,"f")&&(clearTimeout((0,i.gn)(this,Kn,"f")),(0,i.GG)(this,Kn,null,"f")),(0,i.gn)(this,Jn,"f").classList.remove("show"),(0,i.gn)(this,Jn,"f").classList.remove("hide"),(0,i.GG)(this,Kn,window.setTimeout((()=>{(0,i.gn)(this,Jn,"f").textContent=(0,i.gn)(this,zn,"f").get("Car saved!"),(0,i.gn)(this,Jn,"f").classList.add("show"),(0,i.GG)(this,Kn,window.setTimeout((()=>{(0,i.gn)(this,Jn,"f").classList.remove("show"),(0,i.gn)(this,Jn,"f").classList.add("hide")}),3e3),"f")}),0),"f")};const ue=class{constructor(t,n,e,o,a,l,c,r,h,d){Wn.add(this),Sn.set(this,void 0),Tn.set(this,void 0),zn.set(this,void 0),Pn.set(this,void 0),In.set(this,void 0),Un.set(this,void 0),Hn.set(this,void 0),On.set(this,void 0),Dn.set(this,void 0),Rn.set(this,void 0),Bn.set(this,null),Fn.set(this,null),qn.set(this,null),Vn.set(this,void 0),Xn.set(this,void 0),Qn.set(this,null),Yn.set(this,void 0),_n.set(this,void 0),jn.set(this,void 0),Zn.set(this,void 0),Jn.set(this,void 0),Kn.set(this,null),$n.set(this,void 0),te.set(this,void 0),ne.set(this,void 0),ee.set(this,void 0),ie.set(this,void 0),se.set(this,!1),oe.set(this,!1),(0,i.GG)(this,Sn,t,"f"),(0,i.GG)(this,Tn,n,"f"),(0,i.GG)(this,Pn,o,"f"),(0,i.GG)(this,In,a,"f"),(0,i.GG)(this,Un,l,"f"),(0,i.GG)(this,Hn,c,"f"),(0,i.GG)(this,On,r,"f"),(0,i.GG)(this,zn,e,"f"),(0,i.GG)(this,Vn,new An(h),"f"),(0,i.GG)(this,te,(0,i.gn)(this,Hn,"f").profileSlot,"f"),(0,i.GG)(this,ne,(0,i.gn)(this,Hn,"f").getCurrentUserProfile(),"f"),(0,i.GG)(this,ee,(0,i.gn)(this,ne,"f").nickname,"f"),(0,i.GG)(this,ie,(0,i.gn)(this,ne,"f").countryCode,"f"),(0,i.GG)(this,Xn,new s.ubm(70,1,.1,C.A.maxViewDistance),"f"),(0,i.gn)(this,Xn,"f").position.set(0,2,6),o.scene.add((0,i.gn)(this,Xn,"f")),(0,i.GG)(this,Yn,new G.N((0,i.gn)(this,Xn,"f"),o.canvas),"f"),(0,i.gn)(this,Yn,"f").addEventListener("start",(()=>{(0,i.GG)(this,Qn,null,"f")})),(0,i.gn)(this,Yn,"f").target.set(0,0,1.2),(0,i.gn)(this,Yn,"f").update(),(0,i.gn)(this,Yn,"f").mouseButtons={LEFT:s.kBv.ROTATE,MIDDLE:s.kBv.ROTATE,RIGHT:s.kBv.ROTATE},(0,i.gn)(this,Yn,"f").enablePan=!1,(0,i.gn)(this,Yn,"f").minDistance=2.5,(0,i.gn)(this,Yn,"f").maxDistance=7,(0,i.gn)(this,Yn,"f").maxPolarAngle=Math.PI/2-.15;const g=document.getElementById("ui");if(null==g)throw new Error("UI element not found");(0,i.GG)(this,Dn,g,"f"),(0,i.GG)(this,_n,document.createElement("div"),"f"),(0,i.gn)(this,_n,"f").className="customization-ui";const f=document.createElement("div");f.className="safe-area-left",(0,i.gn)(this,_n,"f").appendChild(f);const p=document.createElement("div");p.className="safe-area-right",(0,i.gn)(this,_n,"f").appendChild(p);const u=document.createElement("div");u.className="top",(0,i.gn)(this,_n,"f").appendChild(u);const m=document.createElement("button");m.className="button",m.innerHTML='<img class="button-icon" src="images/quit.svg"> ',m.append(document.createTextNode(e.get("Exit"))),m.addEventListener("click",(()=>{a.playUIClick(),xn.Xx()||(0,i.gn)(this,Wn,"m",ge).call(this,d)})),u.appendChild(m),window.addEventListener("keydown",(0,i.GG)(this,Rn,(t=>{"Escape"!=t.code||xn.Xx()||null!=(0,i.gn)(this,Bn,"f")||null!=(0,i.gn)(this,Fn,"f")||null!=(0,i.gn)(this,qn,"f")||(0,i.gn)(this,On,"f").isOpen||((0,i.gn)(this,Wn,"m",ge).call(this,d),t.preventDefault())}),"f"));const v=document.createElement("button");v.className="button",v.innerHTML='<img class="button-icon" src="images/save.svg"> ',v.append(document.createTextNode(e.get("Save"))),v.addEventListener("click",(()=>{a.playUIClick(),(0,i.gn)(this,se,"f")&&(0,i.gn)(this,ee,"f")==E.A.defaultNickname?((0,i.gn)(this,_n,"f").classList.add("hidden"),(0,i.gn)(this,Wn,"m",re).call(this,(0,i.gn)(this,te,"f"),(0,i.gn)(this,ee,"f"),(0,i.gn)(this,ie,"f"),(()=>{(0,i.gn)(this,_n,"f").classList.remove("hidden"),(0,i.gn)(this,Wn,"m",fe).call(this)}))):(0,i.gn)(this,Wn,"m",fe).call(this)})),u.appendChild(v);const w=document.createElement("button");w.className="button",w.innerHTML='<img class="button-icon" src="images/reset.svg"> ',w.append(document.createTextNode(e.get("Default"))),w.addEventListener("click",(()=>{a.playUIClick(),(0,i.gn)(this,Wn,"m",ae).call(this)})),u.appendChild(w);const b=document.createElement("button");b.className="button",b.innerHTML='<img class="button-icon" src="images/random.svg"> ',b.append(document.createTextNode(e.get("Random"))),b.addEventListener("click",(()=>{a.playUIClick(),(0,i.gn)(this,Wn,"m",le).call(this)})),u.appendChild(b);const x=document.createElement("button");x.className="button right",x.innerHTML='<img class="button-icon" src="images/list.svg"> ',x.append(document.createTextNode(e.get("Switch Profile"))),x.addEventListener("click",(()=>{a.playUIClick(),xn.Xx()||((0,i.gn)(this,se,"f")?(0,i.gn)(this,On,"f").showConfirm(e.get("Are you sure you want to switch profile without saving?")+"\n\n"+e.get("All changes will be lost!"),e.get("Cancel"),e.get("Confirm"),null,(()=>{(0,i.gn)(this,Wn,"m",de).call(this)})):(0,i.gn)(this,Wn,"m",de).call(this))})),u.appendChild(x);const k=document.createElement("div");k.className="profile-button-container",(0,i.gn)(this,_n,"f").appendChild(k);const y=document.createElement("button");y.className="button",(0,i.GG)(this,jn,document.createElement("img"),"f"),(0,i.gn)(this,jn,"f").className="country-flag loading",(0,i.gn)(this,jn,"f").addEventListener("load",(()=>{(0,i.gn)(this,jn,"f").classList.remove("loading")})),(0,i.gn)(this,jn,"f").draggable=!1,y.appendChild((0,i.gn)(this,jn,"f"));const M=(0,L.O)(),N=null==(0,i.gn)(this,ie,"f")?null:M.find((t=>t.code==(0,i.gn)(this,ie,"f")));null!=N?((0,i.gn)(this,jn,"f").src="images/countries/"+N.code+".svg",(0,i.gn)(this,jn,"f").title=N.name):(0,i.gn)(this,jn,"f").classList.add("hidden"),(0,i.GG)(this,Zn,document.createTextNode((0,i.gn)(this,ee,"f")),"f"),y.append((0,i.gn)(this,Zn,"f")),y.addEventListener("click",(()=>{a.playUIClick(),(0,i.gn)(this,_n,"f").classList.add("hidden"),(0,i.gn)(this,Wn,"m",re).call(this,(0,i.gn)(this,te,"f"),(0,i.gn)(this,ee,"f"),(0,i.gn)(this,ie,"f"),null)})),k.appendChild(y),(0,i.GG)(this,Jn,document.createElement("div"),"f"),(0,i.gn)(this,Jn,"f").className="save-message",(0,i.gn)(this,_n,"f").appendChild((0,i.gn)(this,Jn,"f")),(0,i.GG)(this,$n,new Gn((0,i.gn)(this,In,"f"),(0,i.gn)(this,zn,"f"),(0,i.gn)(this,On,"f"),(0,i.gn)(this,Vn,"f"),(0,i.gn)(this,_n,"f"),(t=>{(0,i.gn)(this,Sn,"f").setCarStyle(t),(0,i.GG)(this,se,!0,"f")}),(t=>{(0,i.GG)(this,Qn,t,"f")})),"f"),(0,i.gn)(this,Dn,"f").appendChild((0,i.gn)(this,_n,"f")),(0,i.gn)(this,$n,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.gn)(this,Sn,"f").setCarStyle((0,i.gn)(this,ne,"f").carStyle),(0,i.gn)(this,Wn,"m",ce).call(this),(0,i.GG)(this,se,!1,"f")}dispose(){if((0,i.gn)(this,oe,"f")){const{token:t,nickname:n,countryCode:e,carStyle:s}=(0,i.gn)(this,Hn,"f").getCurrentUserProfile();(0,i.gn)(this,Un,"f").submitUserProfile(t,n,e,s).catch((t=>{console.warn(t)}))}(0,i.gn)(this,Pn,"f").scene.remove((0,i.gn)(this,Xn,"f")),window.removeEventListener("keydown",(0,i.gn)(this,Rn,"f")),(0,i.gn)(this,$n,"f").dispose(),(0,i.gn)(this,Dn,"f").removeChild((0,i.gn)(this,_n,"f")),(0,i.gn)(this,Yn,"f").dispose(),(0,i.gn)(this,Pn,"f").canvas.style.touchAction=""}update(t){null!=(0,i.gn)(this,Qn,"f")&&((0,i.gn)(this,Xn,"f").position.lerp((0,i.gn)(this,Qn,"f"),Math.min(1,10*t)),(0,i.gn)(this,Yn,"f").update())}get camera(){return(0,i.gn)(this,Xn,"f")}};var me,ve,we,be,xe,ke,Ge,ye,Ce,Ee,Me,Ne=e(9681);class Le{constructor(t,n,e,o,a,c,r,h,d,g,f,p){ve.set(this,void 0),we.set(this,void 0),be.set(this,void 0),xe.set(this,void 0),ke.set(this,void 0),Ge.set(this,void 0),ye.set(this,void 0),Ce.set(this,void 0),Ee.set(this,void 0),(0,i.GG)(this,ve,c,"f"),(0,i.GG)(this,we,n,"f"),(0,i.GG)(this,be,e,"f"),(0,i.GG)(this,xe,o,"f"),(0,i.GG)(this,ke,a,"f");const u=Ne.U("PolyTrack24pdBBHsYCCCAAA9XK12cdEBcBplkDN42ExQNdSWh5Xf9eEp1009dQICjjB7eqqlx7YH8BnFJzsokZScpwEDHaBDwkHFLDPYfxQPqFblOkZfJVS5YWIfXDZru01TebKuEiCCvXfpfxuTe0adAH1wf51aX4OmtpXr6XJPfHfSPO3CemUiRGceD0OBJGnIjkU5RJaqf8t5u5RFgcOawuRoIeAp088v3gpv4u2fe6kqKyyFaX5HQk17dqpwUldfSAL32crBslQfPAQfwSaC");if(null==u)throw new Error("Failed to load track data");if(n.loadTrackData(u.trackData),n.generateMeshes(),e.generateMountains(n.getBounds()),null==(0,i.gn)(me,me,"f",Me))throw new Error("CustomizationState resources not initialized");(0,i.GG)(this,ye,(0,i.gn)(me,me,"f",Me).clone(),"f"),(0,i.gn)(this,ye,"f").traverse((t=>{if(t instanceof s.eaF){let n;(0,i.gn)(this,ke,"f").isTrackShadowsEnabled()&&(t.castShadow=!0,t.receiveShadow=!0),n=Array.isArray(t.material)?t.material:[t.material];for(const t of n)t.side=s.hB5,(0,i.gn)(this,ke,"f").addMaterial(t)}})),a.scene.add((0,i.gn)(this,ye,"f"));const m={position:new s.Pq0(0,.35,1.35),quaternion:(new s.PTz).setFromEuler(new s.O9p(0,-.24*Math.PI,0))};(0,i.GG)(this,Ce,new l.A(null,m,null,null,a,c,e,n,n.getTrackData(),h,null),"f"),(0,i.gn)(this,Ce,"f").audioVolume=0;const v=(0,i.gn)(this,Ce,"f").getCarState();(0,i.gn)(this,Ce,"f").setCarState({...v,steering:-.2},!0),(0,i.gn)(this,Ce,"f").update(0),(0,i.GG)(this,Ee,[],"f");for(let t=0;t<E.A.maxNumberOfProfiles;t++){const o={position:new s.Pq0(10.5*t-22,.35,-34),quaternion:(new s.PTz).setFromEuler(new s.O9p(0,0,0))},r=new l.A(null,o,null,null,a,c,e,n,n.getTrackData(),h,null);r.audioVolume=0,r.update(0),(0,i.gn)(this,Ee,"f").push(r)}(0,i.GG)(this,Ge,new ue((0,i.gn)(this,Ce,"f"),(0,i.gn)(this,Ee,"f"),t,a,c,d,r,g,f,p),"f"),a.setCamera((0,i.gn)(this,Ge,"f").camera)}dispose(){(0,i.gn)(this,we,"f").clear(),(0,i.gn)(this,be,"f").clearMountains(),(0,i.gn)(this,Ge,"f").dispose(),(0,i.gn)(this,ke,"f").scene.remove((0,i.gn)(this,ye,"f")),(0,i.gn)(this,ye,"f").traverse((t=>{if(t instanceof s.eaF){let n;t.geometry.dispose(),n=Array.isArray(t.material)?t.material:[t.material];for(const t of n)t.dispose(),(0,i.gn)(this,ke,"f").removeMaterial(t)}})),(0,i.gn)(this,Ce,"f").dispose();for(const t of(0,i.gn)(this,Ee,"f"))t.dispose();(0,i.GG)(this,Ee,[],"f")}update(t){(0,i.gn)(this,Ge,"f").update(t),(0,i.gn)(this,be,"f").update((0,i.gn)(this,we,"f")),(0,i.gn)(this,xe,"f").update(t,(0,i.gn)(this,ke,"f").camera,(0,i.gn)(this,we,"f").sunDirection),(0,i.gn)(this,ve,"f").update(t,!1,(0,i.gn)(this,ke,"f")),(0,i.gn)(this,ke,"f").update((0,i.gn)(this,we,"f").sunDirection)}static async initResources(){if(null!=(0,i.gn)(me,me,"f",Me))return;const t=new a.B,n=new o.Z;try{n.setDecoderPath("lib/draco/"),t.setDRACOLoader(n),await new Promise(((n,e)=>{t.load("models/garage.glb",(t=>{(0,i.GG)(me,me,t.scene,"f",Me),(0,i.gn)(me,me,"f",Me).traverse((t=>{if(t instanceof s.eaF){if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++){const e=t.material[n];if(!(e instanceof s._4j))throw new Error("Material is not a MeshStandardMaterial");t.material[n]=new s.G_z({color:e.color})}else t.material=new s.G_z({color:t.material.color});t.geometry=t.geometry.toNonIndexed(),t.geometry.computeVertexNormals(!1)}})),n()}),void 0,e)}))}finally{n.dispose()}}}me=Le,ve=new WeakMap,we=new WeakMap,be=new WeakMap,xe=new WeakMap,ke=new WeakMap,Ge=new WeakMap,ye=new WeakMap,Ce=new WeakMap,Ee=new WeakMap,Me={value:null};const Ae=Le},4191:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".color-picker-ui {\n\tmargin: 8px;\n}\n\n.color-picker-ui > .value-saturation-picker {\n\tposition: relative;\n\tmargin: 0 0 8px 0;\n\twidth: 220px;\n\theight: 160px;\n\tbackground-color: #fff;\n\toverflow: hidden;\n}\n\n.color-picker-ui > .value-saturation-picker > .marker {\n\tposition: absolute;\n\twidth: 12px;\n\theight: 12px;\n\tbackground-image: radial-gradient(closest-side, transparent, #000, #fff, #000, transparent);\n}\n\n.color-picker-ui > .hue-picker {\n\tposition: relative;\n\twidth: 220px;\n\theight: 40px;\n\tbackground-image: linear-gradient(to right, \n\t\thsl(0, 100%, 50%),\n\t\thsl(60, 100%, 50%),\n\t\thsl(120, 100%, 50%),\n\t\thsl(180, 100%, 50%),\n\t\thsl(240, 100%, 50%),\n\t\thsl(300, 100%, 50%),\n\t\thsl(0, 100%, 50%)\n\t);\n\toverflow: hidden;\n}\n\n.color-picker-ui > .hue-picker > .marker {\n\tposition: absolute;\n\ttop: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbackground-image: linear-gradient(to right, #000, #fff, #000);\n}\n",""]);const l=a},4975:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".customization-panel-ui {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.customization-panel-ui > .tab-bar {\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\tpadding: 0 var(--safe-area-left) 0 var(--safe-area-right);\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tbackground-color: var(--surface-color);\n}\n\n.customization-panel-ui > .tab-bar > .button {\n\tmargin: 8px 0;\n\tcolor: rgba(255, 255, 255, 0.25);\n}\n.customization-panel-ui > .tab-bar > .button:first-of-type {\n\tmargin-left: 8px;\n}\n.customization-panel-ui > .tab-bar > .button.selected {\n\tbackground-color: var(--button-hover-color);\n\tcolor: var(--text-color);\n}\n.customization-panel-ui > .tab-bar > .button > img {\n\topacity: 0.25;\n}\n.customization-panel-ui > .tab-bar > .button.selected > img {\n\topacity: 1;\n}\n\n.customization-panel-ui > .panel.hidden {\n\tdisplay: none;\n}\n\n.customization-panel-ui > .color-panel {\n\tdisplay: flex;\n\tpadding: 0 var(--safe-area-right) 0 var(--safe-area-left);\n\tbox-sizing: border-box;\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 64px;\n\twidth: 100%;\n}\n\n.customization-panel-ui > .color-panel > div {\n\tdisplay: flex;\n\tflex-grow: 1;\n\tflex-basis: 0;\n}\n.customization-panel-ui > .color-panel > div.left {\n\tjustify-content: flex-start;\n}\n.customization-panel-ui > .color-panel > div.right {\n\tjustify-content: flex-end;\n}\n\n.customization-panel-ui > .color-panel > div > .color {\n\tmargin: 0 10px;\n\tpadding: 0;\n\ttext-align: center;\n\tbackground-color: var(--surface-secondary-color);\n\tpointer-events: auto;\n}\n.customization-panel-ui > .color-panel > div > .color > h2 {\n\tmargin: 0;\n\tpadding: 2px;\n\tfont-size: 26px;\n\tfont-weight: normal;\n\tbackground-color: var(--surface-color);\n\tcolor: var(--text-color);\n}\n.customization-panel-ui > .color-panel > div > .color > .input-container {\n\tdisplay: flex;\n\tmargin: 8px;\n\twidth: 220px;\n}\n.customization-panel-ui > .color-panel > div > .color > .input-container > input {\n\tmargin: 0;\n\tmin-width: 0;\n\tfont-weight: normal;\n\tclip-path: none;\n\ttext-align: center;\n}\n.customization-panel-ui > .color-panel > div > .color > .input-container > .color-preview {\n\tmargin: 0 0 0 8px;\n\twidth: 48px;\n\tborder: 2px solid var(--surface-tertiary-color);\n\tbackground-color: #f0f;\n}\n\n\n.customization-panel-ui > .options-panel {\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 2px calc(var(--safe-area-right) + 2px) 0 calc(var(--safe-area-left) + 2px);\n\tbox-sizing: border-box;\n\tposition: absolute;\n\tright: 0;\n\tbottom: 64px;\n\theight: calc(100% - 64px - 64px);\n\tbackground-color: var(--surface-secondary-color);\n\toverflow-y: auto;\n\tpointer-events: auto;\n}\n\n.customization-panel-ui > .options-panel > button {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: 0 0 2px 0;\n\tpadding: 5px;\n\tbackground-color: var(--button-color);\n\tborder: 2px solid rgb(38, 31, 88);\n\tcursor: pointer;\n}\n.customization-panel-ui > .options-panel > button:hover {\n\tbackground-color: var(--button-hover-color);\n}\n@media (hover: none) {\n\t.customization-panel-ui > .options-panel > button:hover {\n\t\tbackground-color: var(--button-color);\n\t}\n}\n.customization-panel-ui > .options-panel > button:active {\n\tbackground-color: var(--button-active-color);\n}\n.customization-panel-ui > .options-panel > button.selected {\n\tbackground-color: var(--button-hover-color);\n\tbox-shadow: inset 0 0 5px #fff;\n\tborder: 2px solid #fff;\n}\n.customization-panel-ui > .options-panel > button > img:first-of-type {\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 128px;\n\theight: 128px;\n\t-webkit-filter: drop-shadow(0 0 2px #000);\n\tfilter: drop-shadow(0 0 2px #000);\n\tpointer-events: none;\n\ttransition: opacity 0.25s ease-out;\n}\n.customization-panel-ui > .options-panel > button > img:first-of-type.loading {\n\topacity: 0;\n\ttransition: none;\n}\n\n.customization-panel-ui > .options-panel > button > img.video-icon {\n\tposition: absolute;\n\tbottom: 8px;\n\tright: 8px;\n\twidth: 24px;\n\theight: 24px;\n\tpointer-events: none;\n\t-webkit-filter: drop-shadow(2px 2px 1px #000);\n\tfilter: drop-shadow(2px 2px 1px #000);\n}\n",""]);const l=a},8026:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".customization-ui {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.customization-ui > .safe-area-left {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: var(--safe-area-left);\n\theight: 100%;\n\tbackground-color: var(--surface-color);\n}\n\n.customization-ui > .safe-area-right {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\twidth: var(--safe-area-right);\n\theight: 100%;\n\tbackground-color: var(--surface-color);\n}\n\n.customization-ui > .top {\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0 var(--safe-area-right) 0 var(--safe-area-left);\n\tbackground-color: var(--surface-color);\n}\n.customization-ui > .top > .button {\n\tdisplay: inline-block;\n\tmargin: 8px 0;\n}\n.customization-ui > .top > .button:first-of-type {\n\tmargin-left: 8px;\n}\n.customization-ui > .top > .button:last-of-type {\n\tmargin-right: 8px;\n}\n.customization-ui > .top > .button.right {\n\tfloat: right;\n}\n\n.customization-ui > .profile-button-container {\n\tdisplay: inline-block;\n\tmargin: 0 0 0 var(--safe-area-left);\n\tpadding: 6px 7px;\n\tclip-path: polygon(0 0, 100% 0, calc(100% - 10px) 100%, 0 100%);\n\tfont-size: 30px;\n\tcolor: var(--text-color);\n\tbackground: var(--surface-secondary-color);\n}\n.customization-ui > .profile-button-container > button {\n\tmin-width: 150px;\n\tmax-width: 450px;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.customization-ui > .profile-button-container > button > .country-flag {\n\tvertical-align: top;\n\tmargin-right: 10px;\n\t/* Flag aspect ratio is 4:3. */\n\twidth: 40px;\n\theight: 30px;\n\tfilter: drop-shadow(2px 2px 1px rgba(0, 0, 0, 0.5)); /* box-shadow cannot be used because of Nepal. */\n\ttransition: opacity 0.25s ease-out;\n}\n.customization-ui > .profile-button-container > button > .country-flag.loading {\n\topacity: 0;\n}\n\n.customization-ui > .save-message {\n\tmargin: 10px 10px 10px calc(10px + var(--safe-area-left));\n\tpadding: 0;\n\tposition: absolute;\n\tfont-size: 30px;\n\tcolor: #96ff96;\n\ttext-shadow: 0 0 5px #000;\n\tpointer-events: none;\n\n\tleft: -10px;\n\topacity: 0;\n}\n.customization-ui > .save-message.show {\n\tleft: 0;\n\topacity: 1;\n\ttransition: opacity 0.25s ease-in-out, left 0.25s ease-in-out;\n}\n.customization-ui > .save-message.hide {\n\tleft: 0;\n\topacity: 0;\n\ttransition: opacity 0.25s ease-in-out, left 0.25s ease-in-out;\n}\n",""]);const l=a},9e3:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1601),s=e.n(i),o=e(6314),a=e.n(o)()(s());a.push([t.id,".country-selection-ui > .background {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 1;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(20, 20, 30, 0.5);\n\tpointer-events: auto;\n}\n\n.country-selection-ui > .container {\n\tposition: absolute;\n\tleft: calc(50% - 600px / 2);\n\ttop: 0;\n\tz-index: 2;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n\twidth: 600px;\n\theight: 100%;\n\tbackground-color: var(--surface-color);\n}\n\n.country-selection-ui > .container > h1 {\n\tmargin: 10px;\n\tpadding: 0;\n\tfont-weight: normal;\n\tfont-size: 38px;\n\ttext-align: center;\n\tcolor: var(--text-color);\n}\n\n.country-selection-ui > .container > .search-bar-container {\n\tposition: relative;\n\tdisplay: flex;\n\tmargin: 0 20px;\n\tflex-grow: 1;\n}\n.country-selection-ui > .container > .search-bar-container > input {\n\tmargin: 8px -10px;\n\tpadding: 0 20px;\n\theight: 44px;\n\tflex-grow: 1;\n\tclip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);\n\tcolor: var(--text-color);\n\ttext-indent: 2px; /* Without this the italic text will be cut off on the left side. */\n}\n.country-selection-ui > .container > .search-bar-container > img {\n\tmargin: 8px -10px 8px 0;\n\tpadding: 0 16px;\n\twidth: 24px;\n\tbackground-color: var(--button-hover-color);\n\tclip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);\n}\n\n.country-selection-ui > .container > .content {\n\theight: 100%;\n\tbackground-color: var(--surface-secondary-color);\n\toverflow-y: auto;\n\tpointer-events: auto;\n}\n\n.country-selection-ui > .container > .content > .country-button {\n\tdisplay: flex;\n\tmargin: 10px 10px 0 10px;\n\tpadding: 10px;\n\twidth: calc(100% - 2 * 10px);\n\theight: 100px;\n\tclip-path: polygon(0 0, 100% 0, calc(100% - 8px) 100%, 0 100%);\n\ttext-align: left;\n\twhite-space: nowrap;\n}\n.country-selection-ui > .container > .content > .country-button:last-of-type {\n\tmargin-bottom: 10px;\n}\n.country-selection-ui > .container > .content > .country-button.selected {\n\tbackground-color: var(--button-hover-color);\n}\n\n.country-selection-ui > .container > .content > .country-button > .name {\n\tmargin: 0 20px;\n\talign-self: center;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\tline-clamp: 2;\n\t-webkit-box-orient: vertical;\n\twhite-space: wrap;\n\tfont-size: 38px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.country-selection-ui > .container > .content > .country-button > img {\n\tvertical-align: middle;\n\taspect-ratio: 4 / 3;\n\theight: 100%;\n\tfilter: drop-shadow(4px 4px 1px rgba(0, 0, 0, 0.25)); /* box-shadow cannot be used because of Nepal. */\n\ttransition: opacity 0.25s ease-out;\n}\n.country-selection-ui > .container > .content > .country-button > img.loading {\n\topacity: 0;\n}\n\n.country-selection-ui > .container > .content > .nothing-found-message {\n\tmargin: 0;\n\tpadding: 20px;\n\tfont-size: 20px;\n\ttext-align: center;\n\tcolor: var(--text-color);\n\topacity: 0.5;\n}\n\n.country-selection-ui > .container > .button-wrapper > button {\n\tmargin: 10px;\n}\n",""]);const l=a}}]);